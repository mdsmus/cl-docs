<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.2//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>8.6 Loading Unix Object Files</TITLE>
<META NAME="description" CONTENT="8.6 Loading Unix Object Files">
<META NAME="keywords" CONTENT="cmu-new">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="cmu-new.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html3683" HREF="node237.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html3681" HREF="node221.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html3675" HREF="node235.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html3685" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html3686" HREF="node267.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3684" HREF="node237.html">8.7 Alien Function Calls</A>
<B>Up:</B> <A NAME="tex2html3682" HREF="node221.html">8 Alien Objects</A>
<B> Previous:</B> <A NAME="tex2html3676" HREF="node235.html">8.5 Alien Data Structure </A>
<BR> <P>
<H1><A NAME="SECTION00960000000000000000">8.6 Loading Unix Object Files</A></H1>
<P>
Foreign object files are loaded into the running Lisp process by
<tt>load-foreign</tt>.  First, it runs the linker on the files and
libraries, creating an absolute Unix object file.  This object file is
then loaded into into the currently running Lisp.  The external
symbols defining routines and variables are made available for future
external references (e.g.  by <tt>extern-alien</tt>.)
<tt>load-foreign</tt> must be run before any of the defined symbols are
referenced.
<P>
Note that if a Lisp core image is saved (using <A NAME="11737">&#160;</A><tt>save-lisp</tt> (page&nbsp;<A HREF="node41.html#FNsavelisp"><IMG  ALIGN=BOTTOM ALT="gif" SRC="cross_ref_motif.gif"></A>)), all
loaded foreign code is lost when the image is restarted.
<P>
<b>[Function]</b><BR> 
<tt> alien: load-foreign</tt> <em> <i>files</i> <tt>&amp;key</tt> <tt>:libraries</tt> <tt>:base-file</tt> <tt>:env</tt></em><BR>
<P>
  <i>files</i> is a <tt>simple-string</tt> or list of
  <tt>simple-string</tt>s specifying the names of the object files.
  <i>libraries</i> is a list of <tt>simple-string</tt>s specifying
  libraries in a format that <tt>ld</tt>, the Unix linker, expects.  The
  default value for <i>libraries</i> is <tt>(&quot;-lc&quot;)</tt> (i.e., the
  standard C library).  <i>base-file</i> is the file to use for the
  initial symbol table information.  The default is the Lisp start up
  code: `<tt>path:lisp</tt>'.  <i>env</i> should be a list of simple
  strings in the format of Unix environment variables (i.e.,
  <tt><i>A</i>=<i>B</i></tt>, where <i>A</i> is an environment variable and
  <i>B</i> is its value).  The default value for <i>env</i> is the
  environment information available at the time Lisp was invoked.
  Unless you are certain that you want to change this, you should just
  use the default.
<P>
<BR> <HR>
<P><ADDRESS>
<I>Raymond Toy <BR>
Mon Sep 22 16:34:07 EDT 1997</I>
</ADDRESS>
</BODY>
</HTML>
