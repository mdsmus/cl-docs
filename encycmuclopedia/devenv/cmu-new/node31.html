<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.2//EN">
<!--Converted with LaTeX2HTML 96.1-h (September 30, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>2.5.3 Finalization</TITLE>
<META NAME="description" CONTENT="2.5.3 Finalization">
<META NAME="keywords" CONTENT="cmu-new">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="cmu-new.css">
</HEAD>
<BODY LANG="EN" >
 <A NAME="tex2html988" HREF="node32.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="next_motif.gif"></A> <A NAME="tex2html986" HREF="node28.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="up_motif.gif"></A> <A NAME="tex2html982" HREF="node30.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="previous_motif.gif"></A> <A NAME="tex2html990" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="contents_motif.gif"></A> <A NAME="tex2html991" HREF="node267.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html989" HREF="node32.html">2.6 Describe</A>
<B>Up:</B> <A NAME="tex2html987" HREF="node28.html">2.5 Garbage Collection</A>
<B> Previous:</B> <A NAME="tex2html983" HREF="node30.html">2.5.2 Weak Pointers</A>
<BR> <P>
<H2><A NAME="SECTION00353000000000000000">2.5.3 Finalization</A></H2>
<P>
Finalization provides a ``hook'' that is triggered when the garbage
collector reclaims an object.  It is usually used to recover non-Lisp
resources that were allocated to implement the finalized Lisp object.
For example, when a unix file-descriptor stream is collected,
finalization is used to close the underlying file descriptor.
<P>
<b>[Function]</b><BR> 
<tt> extensions:finalize</tt> <em> <i>object</i> <i>function</i></em><BR>
<P>
  This function registers <i>object</i> for finalization.
  <i>function</i> is called with no arguments when <i>object</i> is
  reclaimed.  Normally <i>function</i> will be a closure over the
  underlying state that needs to be freed, e.g. the unix file
  descriptor in the fd-stream case.  Note that <i>function</i> must not
  close over <i>object</i> itself, as this prevents the object from
  ever becoming garbage.
<P>
<b>[Function]</b><BR> 
<tt> extensions:cancel-finalization</tt> <em> <i>object</i></em><BR>
<P>
  This function cancel any finalization request for <i>object</i>.
<P>
<BR> <HR>
<P><ADDRESS>
<I>Raymond Toy <BR>
Mon Sep 22 16:34:07 EDT 1997</I>
</ADDRESS>
</BODY>
</HTML>
