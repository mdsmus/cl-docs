<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.11. Dependent Maintenance</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_7566" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="mop-chap.html" title="Chapter 29. Meta-Object Protocol" /><link rel="prev" href="mop-slot-access.html" title="29.10. Slot Access" /><link rel="next" href="mop-clisp.html" title="29.12. Deviations from AMOP" /><link rel="copyright" href="legalese.html" title="Legal Status of the CLISP Implementation Notes" /><meta name="date" content="'generated: 2008-07-02 11:52:30-04:00'" /><link rel="author" title="Authors" href="index.html#authors" /><link rel="contents" title="Table of Contents" href="index.html" /><link rel="glossary" href="glossary.html" /><link rel="help" href="faq.html#faq-help" title="How do I ask for help?" /><link rel="home" title="Home" href="http://clisp.cons.org" /><link rel="index" href="idx.html" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.11. Dependent Maintenance</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mop-slot-access.html">Prev</a> </td><th width="60%" align="center">Chapter 29. Meta-Object Protocol</th><td width="20%" align="right"> <a accesskey="n" href="mop-clisp.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="mop-dep-maint"></a>29.11. Dependent Maintenance</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-dep-maint.html#mop-dep-maint-protocol">29.11.1. Protocol</a></span></dt><dd><dl><dt><span class="section"><a href="mop-dep-maint.html#update-dependent">29.11.1.1. Generic Function <code class="function">CLOS:UPDATE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#add-dependent">29.11.1.2. Generic Function <code class="function">CLOS:ADD-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#remove-dependent">29.11.1.3. Generic Function <code class="function">CLOS:REMOVE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#map-dependents">29.11.1.4. Generic Function <code class="function">CLOS:MAP-DEPENDENTS</code></a></span></dt></dl></dd></dl></div><p>It is convenient for portable metaobjects to be able to memoize
information about other metaobjects, portable or otherwise.  Because
class and <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a>s can be reinitialized, and <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a>s can be modified by
adding and removing methods, a means must be provided to update this
memoized information.</p><p>The dependent maintenance protocol supports this by providing a
way to register an object which should be notified whenever a class or
generic function is modified.  An object which has been registered this
way is called a <strong class="first"><em class="firstterm">dependent</em></strong> of the class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a>.
The dependents of class and <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a>s are maintained with <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
and <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>.  The dependents of a class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a> can be
accessed with <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>.  Dependents are notified about a
modification by calling <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>.  (See the specification of
<a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> for detailed description of the circumstances under
which it is called.)</p><p>To prevent conflicts between two portable programs, or between
portable programs and the implementation, portable code must not
register metaobjects themselves as dependents. Instead, portable
programs which need to record a metaobject as a dependent, should
encapsulate that metaobject in some other kind of object, and record
that object as the dependent.  The results are undefined if this
restriction is violated.</p><div class="informalexample"><a id="mop-dep-maint-ex"></a><p>This example shows a general facility for encapsulating
metaobjects before recording them as dependents.  The facility defines a
basic kind of encapsulating object: an updater.  Specializations of the
basic class can be defined with appropriate special updating behavior.
In this way, information about the updating required is associated with
each updater rather than with the metaobject being updated.</p><p>Updaters are used to encapsulate any metaobject which requires
updating when a given class or generic function is modified.  The
function <code class="function">record-updater</code> is called to both create an
updater and add it to the dependents of the class or generic function.
Methods on the generic function <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>, specialized to the
specific class of updater do the appropriate update work.</p><pre class="programlisting">
(defclass updater ()
  ((dependent :initarg :dependent :reader dependent)))

(defun record-updater (class dependee dependent <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> initargs)
  (let ((updater (apply #'make-instance class :dependent dependent
                                              initargs)))
    (add-dependent dependee updater)
    updater))
</pre><p>A <code class="function">flush-cache-updater</code> simply flushes the
cache of the dependent when it is updated.</p><pre class="programlisting">
(defclass flush-cache-updater (updater) ())

(defmethod update-dependent (dependee (updater flush-cache-updater)
                             <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> args)
  (declare (ignore args))
  (flush-cache (dependent updater)))
</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-dep-maint-protocol"></a>29.11.1. Protocol</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-dep-maint.html#update-dependent">29.11.1.1. Generic Function <code class="function">CLOS:UPDATE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#add-dependent">29.11.1.2. Generic Function <code class="function">CLOS:ADD-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#remove-dependent">29.11.1.3. Generic Function <code class="function">CLOS:REMOVE-DEPENDENT</code></a></span></dt><dt><span class="section"><a href="mop-dep-maint.html#map-dependents">29.11.1.4. Generic Function <code class="function">CLOS:MAP-DEPENDENTS</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="update-dependent"></a>29.11.1.1. Generic Function <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>dependent</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)
</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a> - the metaobject being
      reinitialized or otherwise modified.</dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object - the dependent being updated.
   </dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a list of the initialization arguments for
      the metaobject redefinition.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to update a
   dependent of <em class="replaceable"><code>metaobject</code></em>.</p><p>When a class or a generic function is reinitialized each of
   its dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument to
   <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> is the set of initialization arguments received by
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.</p><p>When a method is added to a generic function, each of the
   generic function's dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument
   is a list of two elements: the symbol <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_add-method.html" target="_top"><code class="function">ADD-METHOD</code></a>, and the method
   that was added.</p><p>When a method is removed from a generic function, each of the
   generic function's dependents is updated.  The <em class="replaceable"><code>initargs</code></em> argument
   is a list of two elements: the symbol <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_remove-method.html" target="_top"><code class="function">REMOVE-METHOD</code></a>, and the method
   that was removed.</p><p>In each case, <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> is used to call
   <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> on each of the dependents.  So, for example, the
   update of a generic function's dependents when a method is added
   could be performed by the following code:</p><pre class="programlisting">
  (<a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> <em class="replaceable"><code>generic-function</code></em>
                  #'(lambda (dep)
                      (<a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a> <em class="replaceable"><code>generic-function</code></em>
                                        dep
                                        'add-method
                                        new-method)))
</pre></dd></dl></div><p><b>Remarks. </b>See <a class="xref" href="mop-dep-maint.html" title="29.11. Dependent Maintenance">Section 29.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--update-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="add-dependent"></a>29.11.1.2. Generic Function <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>dependent</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a></dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function adds <em class="replaceable"><code>dependent</code></em> to the
   dependents of <em class="replaceable"><code>metaobject</code></em>.  If <em class="replaceable"><code>dependent</code></em> is already in the set
   of dependents it is not added again (no <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</p><p>The generic function <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> can be called to access
   the set of dependents of a class or generic function.  The generic
   function <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> can be called to remove an object from
   the set of dependents of a class or generic function.  The effect of
   calling <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> while a call to
   <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> on the same class or generic function is in progress
   is unspecified.</p><p>The situations in which <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> is called are not
   specified.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
   (<em class="replaceable"><code>generic-function</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a class="xref" href="mop-dep-maint.html" title="29.11. Dependent Maintenance">Section 29.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--add-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="remove-dependent"></a>29.11.1.3. Generic Function <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> <em class="replaceable"><code>metaobject</code></em>
     <em class="replaceable"><code>dependent</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a></dd><dt><span class="term"><em class="replaceable"><code>dependent</code></em></span></dt><dd>an object</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function removes <em class="replaceable"><code>dependent</code></em> from the
   dependents of <em class="replaceable"><code>metaobject</code></em>.  If <em class="replaceable"><code>dependent</code></em> is not one of the
   dependents of <em class="replaceable"><code>metaobject</code></em>, no <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>The generic function <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> can be called to access
   the set of dependents of a class or generic function.  The generic
   function <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> can be called to add an object from the set
   of dependents of a class or generic function.  The effect of calling
   <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> while a call to
   <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> on the same class or generic function is in progress
   is unspecified.</p><p> The situations in which <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> is called are not
   specified.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>dependent</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a class="xref" href="mop-dep-maint.html" title="29.11. Dependent Maintenance">Section 29.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--remove-dependent-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="map-dependents"></a>29.11.1.4. Generic Function <a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a> <em class="replaceable"><code>metaobject</code></em>
    <em class="replaceable"><code>function</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>metaobject</code></em></span></dt><dd>a class or <a class="link" href="mop-overview.html#mop-gen-fun-mo">generic function metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>function</code></em></span></dt><dd>a function which accepts one argument.
</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd>This generic function applies <em class="replaceable"><code>function</code></em> to each of
   the dependents of <em class="replaceable"><code>metaobject</code></em>.  The order in which the dependents
   are processed is not specified, but <em class="replaceable"><code>function</code></em> is applied to each
   dependent once and only once.  If, during the mapping,
   <a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a> or <a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a> is called to alter the
   dependents of <em class="replaceable"><code>metaobject</code></em>, it is not specified whether the newly
   added or removed dependent will have <em class="replaceable"><code>function</code></em> applied to it.
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-dep-maint.html#map-dependents" title="29.11.1.4. Generic Function CLOS:MAP-DEPENDENTS"><code class="function">CLOS:MAP-DEPENDENTS</code></a>
   (<em class="replaceable"><code>metaobject</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a>) <em class="replaceable"><code>function</code></em>)</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#add-dependent" title="29.11.1.2. Generic Function CLOS:ADD-DEPENDENT"><code class="function">CLOS:ADD-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-dep-maint.html#remove-dependent" title="29.11.1.3. Generic Function CLOS:REMOVE-DEPENDENT"><code class="function">CLOS:REMOVE-DEPENDENT</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standa_ric-function.html" target="_top"><code class="classname">STANDARD-GENERIC-FUNCTION</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>)</code></span></li></ul></div></dd></dl></div><p><b>Remarks. </b>See <a class="xref" href="mop-dep-maint.html" title="29.11. Dependent Maintenance">Section 29.11, “Dependent Maintenance”</a> for remarks about the
  use of this facility.</p></div>
<!--map-dependents-->
</div>
<!--mop-dep-maint-protocol-->
</div><div class="bookinfo"><hr /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a class="ulink" href="http://clisp.cons.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> version 2.46</td><td align="right">Last modified: 2008-07-02</td></th></table></div><div class="custom-footer"><hr /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://sourceforge.net/donate/index.php?group_id=1355"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" alt="[Support CLISP]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=mop-dep-maint" /></a></td></tr></table></div><hr /><form method="get" action="http://www.google.com/custom" target="_top"><table width="100%" border="0"><tr><td nowrap="nowrap" align="center"><input type="hidden" name="domains" value="clisp.cons.org;clisp.podval.org;www.lisp.org" /><label for="sbi" style="display: none">Enter your search terms</label><input type="text" name="q" size="50" maxlength="255" id="sbi" value="29.11. Dependent Maintenance" /><label for="sbb" style="display: none">Submit search form</label><input type="submit" name="sa" value="Google Search" id="sbb" /></td></tr><tr><td nowrap="nowrap" align="center"><input type="radio" name="sitesearch" value="" checked="1" id="ss0" /><label for="ss0" title="Search the Web"><small>Web</small></label><input type="radio" name="sitesearch" value="clisp.cons.org" id="ss1" /><label for="ss1" title="Search clisp.cons.org"><small>clisp.cons.org</small></label><input type="radio" name="sitesearch" value="clisp.podval.org" id="ss2" /><label for="ss2" title="Search clisp.podval.org"><small>clisp.podval.org</small></label><input type="radio" name="sitesearch" value="www.lisp.org" id="ss3" /><label for="ss3" title="Search www.lisp.org"><small>www.lisp.org</small></label><input type="hidden" name="client" value="pub-4445255502750357" /><input type="hidden" name="forid" value="1" /><input type="hidden" name="ie" value="UTF-8" /><input type="hidden" name="oe" value="UTF-8" /><input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:000000;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:48;LW:48;L:http://clisp.cons.org/clisp.png;S:http://clisp.cons.org;FORID:1" /><input type="hidden" name="hl" value="en" /></td></tr></table></form><hr /><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mop-slot-access.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="mop-chap.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="mop-clisp.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">29.10. Slot Access </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 29.12. Deviations from AMOP</td></tr></table></div></body></html>
