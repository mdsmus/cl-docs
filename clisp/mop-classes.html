<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>29.3. Classes</title><link rel="stylesheet" href="impnotes.css" type="text/css" /><link rev="made" href="mailto:clisp-list@lists.sourceforge.net" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot_7566" /><link rel="start" href="index.html" title="Implementation Notes for GNU CLISP" /><link rel="up" href="mop-chap.html" title="Chapter 29. Meta-Object Protocol" /><link rel="prev" href="mop-overview.html" title="29.2. Overview" /><link rel="next" href="mop-sd.html" title="29.4. Slot Definitions" /><link rel="copyright" href="legalese.html" title="Legal Status of the CLISP Implementation Notes" /><meta name="date" content="'generated: 2008-07-02 11:52:30-04:00'" /><link rel="author" title="Authors" href="index.html#authors" /><link rel="contents" title="Table of Contents" href="index.html" /><link rel="glossary" href="glossary.html" /><link rel="help" href="faq.html#faq-help" title="How do I ask for help?" /><link rel="home" title="Home" href="http://clisp.cons.org" /><link rel="index" href="idx.html" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.3. Classes</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mop-overview.html">Prev</a> </td><th width="60%" align="center">Chapter 29. Meta-Object Protocol</th><td width="20%" align="right"> <a accesskey="n" href="mop-sd.html">Next</a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="mop-classes"></a>29.3. Classes</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#mop-cl-defclass">29.3.1. Macro <code class="function">DEFCLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-Inheritance">29.3.2. Inheritance Structure of class metaobject Classes</a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-readers">29.3.3. Introspection: Readers for class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#class-name">29.3.3.1. Generic Function <code class="function">CLASS-NAME</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-superclasses">29.3.3.2. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-slots">29.3.3.3. Generic Function <code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-default-initargs">29.3.3.4. Generic Function <code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#cpl">29.3.3.5. Generic Function <code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-subclasses">29.3.3.6. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-slots">29.3.3.7. Generic Function <code class="function">CLOS:CLASS-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-default-initargs">29.3.3.8. Generic Function <code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-finalized-p">29.3.3.9. Generic Function <code class="function">CLOS:CLASS-FINALIZED-P</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-prototype">29.3.3.10. Generic Function <code class="function">CLOS:CLASS-PROTOTYPE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-readers-methods">29.3.3.11. Methods</a></span></dt></dl></dd><dt><span class="section"><a href="mop-classes.html#mop-cl-finalization">29.3.4. Class Finalization Protocol</a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-init">29.3.5. Class Initialization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#mop-cl-init-mo">29.3.5.1. Initialization of class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#class-mo-init-methods">29.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-init-anon">29.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></dd><dt><span class="section"><a href="mop-classes.html#mop-cl-reinit-mo">29.3.5.2. Reinitialization of class metaobjects</a></span></dt></dl></dd><dt><span class="section"><a href="mop-classes.html#mop-cl-customize">29.3.6. Customization</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#setf-class-name">29.3.6.1. Generic Function <code class="code">(SETF CLASS-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#ensure-class">29.3.6.2. Generic Function <code class="function">CLOS:ENSURE-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#ensure-class-UC">29.3.6.3. Generic Function <code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#finalize-inheritance">29.3.6.4. Generic Function <code class="function">CLOS:FINALIZE-INHERITANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-make-instance">29.3.6.5. Generic Function <code class="function">MAKE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#alloc-instance">29.3.6.6. Generic Function <code class="function">ALLOCATE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#validate-superclass">29.3.6.7. Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-dsd-initargs">29.3.6.8. Generic Function <code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#dsd-class">29.3.6.9. Generic Function <code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-cpl">29.3.6.10. Generic Function <code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-slots">29.3.6.11. Generic Function <code class="function">CLOS:COMPUTE-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-esd">29.3.6.12. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-esd-initargs">29.3.6.13. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#esd-class">29.3.6.14. Generic Function <code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-default-initargs">29.3.6.15. Generic Function <code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></span></dt></dl></dd><dt><span class="section"><a href="mop-classes.html#mop-cl-dep">29.3.7. Updating Dependencies</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#add-direct-subclass">29.3.7.1. Generic Function <code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#remove-direct-subclass">29.3.7.2. Generic Function <code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></span></dt></dl></dd></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-defclass"></a>29.3.1. Macro <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a></h3></div></div></div><p>The evaluation or execution of a <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form results in a call
to the <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function. The arguments received by <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
are derived from the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form in a defined way.  The exact
macro-expansion of the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form is not defined, only the
relationship between the arguments to the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro and the
arguments received by the <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function.  Examples of typical
<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> forms and sample expansions are shown in the following two
 examples:
</p><div class="informalexample"><a id="mop-cl-defclass-ex-1"></a><p>A <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form with
  standard slot and class options and an expansion of it that would
  result in the proper call to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><pre class="programlisting">
(defclass plane (moving-object graphics-object)
  ((altitude :initform 0 :accessor plane-altitude)
   (speed))
  (:default-initargs :engine *jet*))

(ensure-class 'plane
  ':direct-superclasses '(moving-object graphics-object)
  ':direct-slots (list (list ':name 'altitude
                             ':initform '0
                             ':initfunction #'(lambda () 0)
                             ':readers '(plane-altitude)
                             ':writers '((setf plane-altitude)))
                       (list ':name 'speed))
  ':direct-default-initargs (list (list ':engine
                                        '*jet*
                                        #'(lambda () *jet*))))
</pre></div><p>
</p><div class="informalexample"><a id="mop-cl-defclass-ex-2"></a><p>A <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form
  with non-standard class and slot options, and an expansion of it which
  results in the proper call to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.  Note that the order of
  the slot options has not affected the order of the properties in the
  <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>, but has affected the order of the elements
  in the lists which are the values of those properties.</p><pre class="programlisting">
(defclass sst (plane)
  ((mach mag-step 2
         locator sst-mach
         locator mach-location
         :reader mach-speed
         :reader mach))
  (:metaclass faster-class)
  (another-option foo bar))

(ensure-class 'sst
  ':direct-superclasses '(plane)
  ':direct-slots (list (list ':name 'mach
                             ':readers '(mach-speed mach)
                             'mag-step '2
                             'locator '(sst-mach mach-location)))
  ':metaclass 'faster-class
  'another-option '(foo bar))
</pre></div><div class="itemizedlist"><ul type="disc"><li>The <em class="replaceable"><code>name</code></em> argument to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>
   becomes the value of the first argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.  This is
   the only positional argument accepted by <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>; all other
   arguments are keyword arguments.</li><li>The <code class="constant">:DIRECT-SUPERCLASSES</code> argument to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>
  becomes the value of the <code class="constant">:DIRECT-SUPERCLASSES</code> keyword argument to
  <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</li><li><p>The <code class="constant">:DIRECT-SLOTS</code> argument to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> becomes
  the value of the <code class="constant">:DIRECT-SLOTS</code> keyword argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
  Special processing of this value is done to regularize the form of
  each slot specification and to properly capture the lexical scope of
  the initialization forms.  This is done by converting each slot
  specification to a property list called a
  <strong class="first"><em class="firstterm">canonicalized slot specification</em></strong>.
  The resulting list of <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s is the value
  of the <code class="constant">:DIRECT-SLOTS</code> keyword argument.</p><p><a id="mop-canonicalized-slot-spec"></a>Canonicalized slot
  specifications are later used as the keyword arguments to a generic
  function which will, in turn, pass them to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> for use as
  a set of initialization arguments.  Each <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> is
  formed from the corresponding slot specification as follows:
  </p><div class="itemizedlist"><ul type="circle"><li>The name of the slot is the value of the <code class="constant">:NAME</code>
     property.  This property appears in every
     <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.</li><li>When the <code class="constant">:INITFORM</code> slot option is present in
     the slot specification, then both the <code class="constant">:INITFORM</code> and
     <code class="constant">:INITFUNCTION</code> properties are present in the <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
     The value of the <code class="constant">:INITFORM</code> property is the
     initialization form.  The value of the <code class="constant">:INITFUNCTION</code> property is
     a function of zero arguments which, when called, returns the result
     of evaluating the initialization form in its proper <a class="clhs" href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html">lexical environment</a>.
   </li><li>If the <code class="constant">:INITFORM</code> slot option is not present in
     the slot specification, then either the <code class="constant">:INITFUNCTION</code> property
     will not appear, or its value will be false.  In such cases, the
     value of the <code class="constant">:INITFORM</code> property, or whether it appears, is
     unspecified.</li><li>The value of the <code class="constant">:INITARGS</code> property is a list
     of the values of each <code class="constant">:INITARG</code> slot option.  If there are no
     <code class="constant">:INITARG</code> slot options, then either the <code class="constant">:INITARGS</code> property
     will not appear or its value will be the empty list.
   </li><li>The value of the <code class="constant">:READERS</code> property is a list of
     the values of each <code class="constant">:READER</code> and <code class="constant">:ACCESSOR</code> slot option.  If
     there are no <code class="constant">:READER</code> or <code class="constant">:ACCESSOR</code> slot options, then either
     the <code class="constant">:READERS</code> property will not appear or its value will be the
     empty list.</li><li>The value of the <code class="constant">:WRITERS</code> property is a list of
     the values specified by each <code class="constant">:WRITER</code> and <code class="constant">:ACCESSOR</code> slot
     option.  The value specified by a <code class="constant">:WRITER</code> slot option is just
     the value of the slot option.  The value specified by an
     <code class="constant">:ACCESSOR</code> slot option is a two element list: the first element
     is the symbol <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a>, the second element is the value of the slot
     option.  If there are no <code class="constant">:WRITER</code> or <code class="constant">:ACCESSOR</code> slot options,
     then either the <code class="constant">:WRITERS</code> property will not appear or its value
     will be the empty list.</li><li>The value of the <code class="constant">:DOCUMENTATION</code> property is the
     value of the <code class="constant">:DOCUMENTATION</code> slot option.  If there is no
     <code class="constant">:DOCUMENTATION</code> slot option, then either the <code class="constant">:DOCUMENTATION</code>
     property will not appear or its value will be false.
   </li><li>All other slot options appear as the values of
     properties with the same name as the slot option.  Note that this
     includes not only the remaining standard slot options
     (<code class="constant">:ALLOCATION</code> and <code class="constant">:TYPE</code>), but also any other options and
     values appearing in the slot specification.  If one of these slot
     options appears more than once, the value of the property will be a
     list of the specified values.</li><li>An implementation is free to add additional
     properties to the <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> provided these
     are not symbols accessible in the <a class="clhs" href="http://www.lisp.org/HyperSpec/Body/sec_11-1-2-2.html"><strong class="package">“<span class="quote">COMMON-LISP-USER</span>”</strong></a> package, or exported by
     any package defined in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>].</li></ul></div></li><li><p>The <em class="replaceable"><code>default initargs</code></em> class
  option, if it is present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> keyword argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
  Special processing of this value is done to properly capture the
  lexical scope of the default value forms.  This is done by converting
  each default initarg in the class option into a
  <strong class="first"><em class="firstterm">canonicalized default initialization argument</em></strong>.
  The resulting list of <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s is the value of
  the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> keyword argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.
 </p><p><a id="mop-canonicalized-default-initarg"></a>A canonicalized default
  initarg is a list of three elements.  The first element is the name;
  the second is the actual form itself; and the third is a function of
  zero arguments which, when called, returns the result of evaluating
  the default value form in its proper <a class="clhs" href="http://www.lisp.org/HyperSpec/Body/sec_3-1-1-3.html">lexical environment</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>If a <em class="replaceable"><code>default initargs</code></em>
    class option is not present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> is passed to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] requirement (see <a class="xref" href="redef-class.html" title="4.6. Redefining Classes">Section 4.6, “Redefining Classes
  ”</a>) that
 the resulting <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>The <em class="replaceable"><code>metaclass</code></em> class
  option, if it is present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:METACLASS</code> keyword argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>If a <em class="replaceable"><code>metaclass</code></em>
   class option is not present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
   <code class="constant">:METACLASS</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> is passed to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] requirement (see <a class="xref" href="redef-class.html" title="4.6. Redefining Classes">Section 4.6, “Redefining Classes
  ”</a>) that
 the resulting <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>The <em class="replaceable"><code>documentation</code></em> class
  option, if it is present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, becomes the value of
  the <code class="constant">:DOCUMENTATION</code> keyword argument to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>If a <em class="replaceable"><code>documentation</code></em>
    class option is not present in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form,
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> is passed to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] requirement (see <a class="xref" href="redef-class.html" title="4.6. Redefining Classes">Section 4.6, “Redefining Classes
  ”</a>) that
 the resulting <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li><li><p>Any other class options become the value of keyword
  arguments with the same name.  The value of the keyword argument is
  the tail of the class option.  An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if any class
  option appears more than once in the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>The default initargs of the
    <em class="replaceable"><code>metaclass</code></em> are added at the end of the list
    of arguments to pass to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>.</p><p>This is needed to
 fulfill the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] requirement (see <a class="xref" href="redef-class.html" title="4.6. Redefining Classes">Section 4.6, “Redefining Classes
  ”</a>) that
 the resulting <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> object reflects the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div></li></ul></div><p>In the call to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>, every element of its arguments
appears in the same left-to-right order as the corresponding element of
the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form, except that the order of the properties of
<a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s is unspecified.  The values of
properties in <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s do follow this ordering
requirement.  Other ordering relationships in the keyword arguments to
<a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> are unspecified.</p><p>The result of the call to <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> is returned as the result
of evaluating or executing the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> form.</p></div>
<!--mop-cl-defclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-Inheritance"></a>29.3.2. Inheritance Structure of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> Classes</h3></div></div></div><div class="figure"><a id="mop-cl-Inheritance-fig"></a><p class="title"><b>Figure 29.2. Inheritance structure of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes</b></p><div class="figure-contents"><div class="mediaobject"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="100%"><tr><td><img src="mop-classes-class.png" width="100%" alt="Inheritance structure of class metaobject classes" /></td></tr></table></div></div></div><br class="figure-break" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-readers"></a>29.3.3. Introspection: Readers for <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#class-name">29.3.3.1. Generic Function <code class="function">CLASS-NAME</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-superclasses">29.3.3.2. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-slots">29.3.3.3. Generic Function <code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-default-initargs">29.3.3.4. Generic Function <code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#cpl">29.3.3.5. Generic Function <code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-direct-subclasses">29.3.3.6. Generic Function <code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-slots">29.3.3.7. Generic Function <code class="function">CLOS:CLASS-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-default-initargs">29.3.3.8. Generic Function <code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-finalized-p">29.3.3.9. Generic Function <code class="function">CLOS:CLASS-FINALIZED-P</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#class-prototype">29.3.3.10. Generic Function <code class="function">CLOS:CLASS-PROTOTYPE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-readers-methods">29.3.3.11. Methods</a></span></dt></dl></div><p>In this and the following sections, the “<span class="quote">reader</span>”
generic functions which simply return information associated with a
particular kind of metaobject are presented together.  General
information is presented first, followed by a description of the purpose
of each, and ending with the specified methods for these generic
functions.</p><p>The reader generic functions which simply return information
associated with <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s are presented together in this section.</p><p>Each of the reader generic functions for <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s has the same
syntax, accepting one required argument called <em class="replaceable"><code>class</code></em>, which must be
a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>; otherwise, an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.  An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is also <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if
the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> has not been initialized.</p><p>These generic functions can be called by the user or the
implementation.</p><p>For any of these generic
 functions which returns a list, such lists will not be mutated by the
 implementation.  The results are undefined if a portable program allows
 such a list to be mutated.</p>
<!--begin class basic introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-name"></a>29.3.3.1. Generic Function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns the name of <em class="replaceable"><code>class</code></em>.  This value can be any Lisp object,
but is usually a symbol, or <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if the class has no name.  This is the
defaulted value of the <code class="constant">:NAME</code> initialization argument that was
associated with the class during initialization or reinitialization.
(Also see <a class="link" href="mop-classes.html#setf-class-name" title="29.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a>.)
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-direct-superclasses"></a>29.3.3.2. Generic Function <a class="link" href="mop-classes.html#class-direct-superclasses" title="29.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-direct-superclasses" title="29.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a list of the direct superclasses of <em class="replaceable"><code>class</code></em>.  The
elements of this list are <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.  The empty list is returned if
<em class="replaceable"><code>class</code></em> has no direct superclasses.  This is the defaulted value of
the <code class="constant">:DIRECT-SUPERCLASSES</code> initialization argument that was associated
with the class during initialization or reinitialization.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>For a class that has not yet been finalized,
 the returned list may contain <a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> instances as
 placeholder for classes that were not yet defined when finalization of
 the class was last attempted.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-direct-slots"></a>29.3.3.3. Generic Function <a class="link" href="mop-classes.html#class-direct-slots" title="29.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-direct-slots" title="29.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a set of the direct slots of <em class="replaceable"><code>class</code></em>.  The elements of
this set are <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.  If the class has no direct slots, the empty set
is returned.  This is the defaulted value of the <code class="constant">:DIRECT-SLOTS</code>
initialization argument that was associated with the class during
initialization and reinitialization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-direct-default-initargs"></a>29.3.3.4. Generic Function <a class="link" href="mop-classes.html#class-direct-default-initargs" title="29.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-direct-default-initargs" title="29.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a list of the direct default initialization arguments for
<em class="replaceable"><code>class</code></em>.  Each element of this list is a <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.
The empty list is returned if <em class="replaceable"><code>class</code></em> has no
direct default initialization arguments.  This is the defaulted value of
the <code class="constant">:DIRECT-DEFAULT-INITARGS</code> initialization argument that was
associated with the class during initialization or reinitialization.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="cpl"></a>29.3.3.5. Generic Function <a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns the class precedence list of <em class="replaceable"><code>class</code></em>.
 The elements of this list are <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.</p><p>During class finalization <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a class="link" href="mop-classes.html#compute-cpl" title="29.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a> to compute the class precedence list of the class.  That
value is associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and is returned by <a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a>.</p><p>This generic function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-direct-subclasses"></a>29.3.3.6. Generic Function <a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a set of the direct subclasses of <em class="replaceable"><code>class</code></em>. The elements
of this set are <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s that all mention this class among their direct
superclasses.  The empty set is returned if <em class="replaceable"><code>class</code></em> has no direct
subclasses.  This value is maintained by the generic functions
<a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> and <a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>The set of direct subclasses of a class is
 internally managed as a <a class="link" href="weak.html#weak-list" title="31.7.2. Weak Lists"><code class="classname">EXT:WEAK-LIST</code></a>. Therefore the existence of
 the <a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a> function does not prevent otherwise
 unreferenced classes from being <a href="gc.html" class="olink">garbage-collect</a>ed.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-slots"></a>29.3.3.7. Generic Function <a class="link" href="mop-classes.html#class-slots" title="29.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-slots" title="29.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a possibly empty set of the slots accessible in instances
of <em class="replaceable"><code>class</code></em>.  The elements of this set are <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.</p><p>During class finalization <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> to compute the slots of the class.  That value is
associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and is returned by <a class="link" href="mop-classes.html#class-slots" title="29.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a>.</p><p>This generic function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-default-initargs"></a>29.3.3.8. Generic Function <a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a list of the default initialization arguments for <em class="replaceable"><code>class</code></em>.
 Each element of this list is a <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.
 The empty list is returned if <em class="replaceable"><code>class</code></em> has no
 default initialization arguments.</p><p>During finalization <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls
<a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a> to compute the default initialization
arguments for the class.  That value is associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and
is returned by <a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>This generic function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been
finalized.</p></div>
<!--end class basic introspection-->
<!--begin class advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-finalized-p"></a>29.3.3.9. Generic Function <a class="link" href="mop-classes.html#class-finalized-p" title="29.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-finalized-p" title="29.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns true if <em class="replaceable"><code>class</code></em> has been finalized.  Returns false
otherwise.  Also returns false if the <em class="replaceable"><code>class</code></em> has not been initialized.
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="class-prototype"></a>29.3.3.10. Generic Function <a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a></h4></div><div><h5 class="subtitle"><code class="code">(<a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> <em class="replaceable"><code>class</code></em>)</code></h5></div></div></div><p>Returns a prototype instance of <em class="replaceable"><code>class</code></em>.  Whether the instance
is initialized is not specified.  The results are undefined if a
portable program modifies the binding of any slot of a prototype instance.
</p><p>This generic function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> has not been finalized.
</p><div class="informalexample"><a id="class-prototype-ex"></a><p>This allows non-<a class="" href="http://www.lisp.org/HyperSpec/Body/glo_c.html#cons">cons</a>ing[3]
  access to slots with allocation <code class="constant">:CLASS</code>:</p><pre class="programlisting">
(defclass counter ()
  ((count :allocation :class :initform 0 :reader how-many)))
(defmethod initialize-instance :after ((obj counter) &amp;rest args)
  (incf (slot-value obj 'count)))
(defclass counted-object (counter) ((name :initarg :name)))
 </pre><p>
 Now one can find out how many <code class="classname">COUNTED-OBJECT</code>s
 have been created by using
  <code class="code">(HOW-MANY (<a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'COUNTER)))</code>:
  </p><pre class="programlisting">
(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> 'counted-object :name 'foo)
⇒ <code class="computeroutput">#&lt;COUNTED-OBJECT #x203028C9&gt;</code>
(HOW-MANY (<a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'counter)))
⇒ <code class="computeroutput">1</code>
(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> 'counted-object :name 'bar)
⇒ <code class="computeroutput">#&lt;COUNTED-OBJECT #x20306CB1&gt;</code>
(HOW-MANY (<a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a> (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> 'counter)))
⇒ <code class="computeroutput">2</code>
</pre></div></div>
<!--end class advanced introspection-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-readers-methods"></a>29.3.3.11. Methods</h4></div></div></div><p>The specified methods for the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> reader generic
functions are presented below.</p><p>Each entry in the table indicates a method on one of the reader
 generic functions, specialized to a specified class.
 The number in each entry is a reference to the full description of the method.
 The full descriptions appear after the table.
</p><div class="informaltable"><a id="mop-cl-readers-methods-tab"></a><table border="1"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th align="center">Generic Function</th><th align="center"><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>, <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a></th><th align="center"><a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a></th><th align="center"><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a></th></tr></thead><tbody><tr><td align="center"><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-1">1</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-1">1</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-8">8</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-direct-superclasses" title="29.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-1">1</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-7">7</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-direct-slots" title="29.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-1">1</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-direct-default-initargs" title="29.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-1">1</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-2">2</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-3">3</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-7">7</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-9">9</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-9">9</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-7">7</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-slots" title="29.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-2">2</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-3">3</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-2">2</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-3">3</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-4">4</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-finalized-p" title="29.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-2">2</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-6">6</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-5">5</a></td></tr><tr><td align="center"><a class="link" href="mop-classes.html#class-prototype" title="29.3.3.10. Generic Function CLOS:CLASS-PROTOTYPE"><code class="function">CLOS:CLASS-PROTOTYPE</code></a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-10">10</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-10">10</a></td><td align="center"><a class="xref" href="mop-classes.html#CRM-10">10</a></td></tr></tbody></table></div><div class="orderedlist"><p class="title"><b>Class Reader Methods</b></p><ol type="1"><li><a id="CRM-1"></a>This method returns the value which was
   associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> during initialization or
   reinitialization.</li><li><a id="CRM-2"></a>This method returns the value associated
   with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> by <span class="method"><code class="literal"><a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
    (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>)</code></span> or
   <span class="method"><code class="literal"><a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
    (<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)</code></span></li><li><a id="CRM-3"></a>This method <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</li><li><a id="CRM-4"></a>This method returns the empty list.
 </li><li><a id="CRM-5"></a>This method returns true.</li><li><a id="CRM-6"></a>This method returns false.</li><li><a id="CRM-7"></a>This method returns a value derived from
   the information in <a class="xref" href="mop-overview.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes">Table 29.1, “Direct Superclass Relationships
  Among The Specified Metaobject Classes”</a>, except that
   implementation-specific modifications are permitted as described in
   <a class="xref" href="mop-overview.html#mop-ov-impl-and-user-spec" title="29.2.2.1. Implementation and User Specialization">Section 29.2.2.1, “Implementation and User Specialization”</a>.</li><li><a id="CRM-8"></a>This method returns the name of the
   built-in class.</li><li><a id="CRM-9"></a>This methods returns a value which is
   maintained by <span class="method"><code class="literal"><a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>
    <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span> and <span class="method"><code class="literal"><a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
    (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span>.
   This method can be overridden only if those methods are overridden as
   well.</li><li><a id="CRM-10"></a>No behavior is specified for this
   method beyond that which is specified for the generic function.</li></ol></div></div>
<!--mop-cl-readers-methods-->
</div>
<!--mop-cl-readers-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-finalization"></a>29.3.4. Class Finalization Protocol</h3></div></div></div><p>Class <strong class="first"><em class="firstterm">finalization</em></strong> is the process of
computing the information a class inherits from its superclasses and
preparing to actually allocate instances of the class.  The class
finalization process includes computing the class's class precedence
list, the full set of slots accessible in instances of the class and the
full set of default initialization arguments for the class.  These
values are associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and can be accessed by calling the
appropriate reader.  In addition, the class finalization process makes
decisions about how instances of the class will be implemented.</p><p>To support forward-referenced superclasses, and to account for the
fact that not all classes are actually instantiated, class finalization
is not done as part of the initialization of the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.  Instead,
finalization is done as a separate protocol, invoked by calling the
generic function <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>.  The exact point at which
<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called depends on the class of the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>; for
<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> it is called sometime after all the classes
superclasses are defined, but no later than when the first instance of
the class is allocated (by <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>).</p><p>The first step of class finalization is computing the class
precedence list.  Doing this first allows subsequent steps to access the
class precedence list.  This step is performed by calling the generic
function <a class="link" href="mop-classes.html#compute-cpl" title="29.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a>.  The value returned from this call is associated
with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and can be accessed by calling the <a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a> generic
function.</p><p>The second step is computing the full set of slots that will be
accessible in instances of the class.  This step is performed by calling
the generic function <a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>.  The result of this call is a list
of <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.  This value is associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and can
be accessed by calling the <a class="link" href="mop-classes.html#class-slots" title="29.3.3.7. Generic Function CLOS:CLASS-SLOTS"><code class="function">CLOS:CLASS-SLOTS</code></a> generic function.</p><p>The behavior of <a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> is itself layered, consisting of
calls to <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and <a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a>.</p><p>The final step of class finalization is computing the full set of
initialization arguments for the class.  This is done by calling the
generic function <a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>.  The value returned by this
generic function is associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and can be
accessed by calling <a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>If the class was previously finalized, <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> may
call <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_mak_ces-obsolete.html" target="_top"><code class="function">MAKE-INSTANCES-OBSOLETE</code></a>.  The circumstances under which this
happens are described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section
 <a class="xref" href="redef-class.html" title="4.6. Redefining Classes">Section 4.6, “Redefining Classes
  ”</a>.</p><p>Forward-referenced classes, which provide a temporary definition
for a class which has been referenced but not yet defined, can never be
finalized.  An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called on a
forward-referenced class.</p></div>
<!--mop-cl-finalization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-init"></a>29.3.5. Class Initialization</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#mop-cl-init-mo">29.3.5.1. Initialization of class metaobjects</a></span></dt><dd><dl><dt><span class="section"><a href="mop-classes.html#class-mo-init-methods">29.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-init-anon">29.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></dd><dt><span class="section"><a href="mop-classes.html#mop-cl-reinit-mo">29.3.5.2. Reinitialization of class metaobjects</a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-init-mo"></a>29.3.5.1. Initialization of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s</h4></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#class-mo-init-methods">29.3.5.1.1. Methods</a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-cl-init-anon">29.3.5.1.2. Initialization of Anonymous Classes</a></span></dt></dl></div><p>A <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> can be created by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.
 The initialization arguments establish the definition of the class.
 A <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> can be redefined by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.
 Some classes of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> do not support redefinition;
 in these cases, <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.</p><p>Initialization of a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> must be done by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
and allowing it to call <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>.  Reinitialization of a
<a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> must be done by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  Portable
programs must <span class="strong"><strong>not</strong></span> </p><div class="itemizedlist"><ul type="disc"><li>... call <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> directly to
    initialize a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>;</li><li>... call <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a> directly to
    initialize or reinitialize a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>;</li><li>... call <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> to change the class of any
    <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> or to turn a non-class object into a
    <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</li></ul></div><p>Since metaobject classes may not be redefined,
 no behavior is specified for the result of calls to
 <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_efined-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-REDEFINED-CLASS</code></a> on <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.
 Since the class of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s may not be changed,
 no behavior is specified for the result of calls to
 <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_upd_ferent-class.html" target="_top"><code class="function">UPDATE-INSTANCE-FOR-DIFFERENT-CLASS</code></a> on <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.</p><p>During initialization or reinitialization, each initialization
argument is checked for errors and then associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.
The value can then be accessed by calling the appropriate accessor as
shown in <a class="xref" href="mop-classes.html#class-mo-initargs" title="Table 29.2. Initialization arguments and accessors for class metaobjects">Table 29.2, “Initialization arguments and
   accessors for class metaobjects”</a>.</p><p>This section begins with a description of the error checking and
processing of each initialization argument.  This is followed by a table
showing the generic functions that can be used to access the stored
initialization arguments.  Initialization behavior specific to the
different specified <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes comes next.  The section ends with a
set of restrictions on portable methods affecting <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> initialization
and reinitialization.</p><p>In these descriptions, the phrase “<span class="quote">this argument defaults to
<em class="replaceable"><code>value</code></em></span>” means that when that initialization argument is not
supplied, initialization or reinitialization is performed as if
<em class="replaceable"><code>value</code></em> had been supplied.  For some initialization arguments this
could be done by the use of default initialization arguments, but
whether it is done this way is not specified.  Implementations are free
to define default initialization arguments for specified <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes.
Portable programs are free to define default initialization arguments
for portable subclasses of the class <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>.</p><p>Unless there is a specific note to the contrary, then during
reinitialization, if an initialization argument is not supplied, the
previously stored value is left unchanged.</p><div class="itemizedlist"><ul type="disc"><li><p>The <code class="constant">:DIRECT-DEFAULT-INITARGS</code> argument is a list
   of <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s.</p><p>An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list">proper list</a>, or if any
   element of the list is not a <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>.</p><p>If the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is being initialized, this argument
   defaults to the empty list.</p></li><li><p> The <code class="constant">:DIRECT-SLOTS</code> argument is a list of
   <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s.</p><p>An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list">proper list</a> or if any
   element of the list is not a <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
  </p><p>After error checking, this value is converted to a
   list of <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s before it is associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.  Conversion
   of each <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to a <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> is a two-step process.
   First, the generic function <a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> is called with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and
   the <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to determine the class of the new
   <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>; this permits both the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> and the
   <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> to control the resulting <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> class.
   Second, <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> is applied to the direct <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> class and the
   <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
   This conversion could be implemented as shown in the
   following code:</p><pre class="programlisting">
(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defun.html" target="_top"><code class="function">DEFUN</code></a> convert-to-direct-slot-definition (class canonicalized-slot)
  (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> #'<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
         (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_apply.html" target="_top"><code class="function">APPLY</code></a> #'<a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a>
                class canonicalized-slot)
         canonicalized-slot))
</pre><p>If the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is being initialized, this argument defaults to
   the empty list.</p><p>Once the <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s have been created, the specified reader and
   writer methods are created.  The generic functions
   <a class="link" href="mop-accessors.html#reader-method-class" title="29.7.2.1. Generic Function CLOS:READER-METHOD-CLASS"><code class="function">CLOS:READER-METHOD-CLASS</code></a> and <a class="link" href="mop-accessors.html#writer-method-class" title="29.7.2.2. Generic Function CLOS:WRITER-METHOD-CLASS"><code class="function">CLOS:WRITER-METHOD-CLASS</code></a> are called to
   determine the classes of the <a class="link" href="mop-overview.html#mop-method-mo">method metaobject</a>s created.</p></li><li><p> The <code class="constant">:DIRECT-SUPERCLASSES</code> argument is a list of
   <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.  Classes which do not support multiple inheritance
   signal an error if the list contains more than one element.</p><p>An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this value is not a <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list">proper list</a> or if
   <a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> applied to <em class="replaceable"><code>class</code></em> and any element of this
   list returns false.</p><p>When the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is being initialized, and this argument is
   either not supplied or is the empty list, this argument defaults as
   follows: if the class is an instance of <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> or one of
   its subclasses the default value is a list of the class
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/cla_standard-object.html" target="_top"><code class="classname">STANDARD-OBJECT</code></a>; if the class is an instance of
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> or one of its subclasses the default
   value is a list of the class
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-OBJECT</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>If the class is an instance of
    <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a> or one of its subclasses the default value is a
    list of the class <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/cla_structure-object.html" target="_top"><code class="classname">STRUCTURE-OBJECT</code></a></p></div><p>After any defaulting of the value, the generic function
   <a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> is called once for each element of the list.
  </p><p>When the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is being reinitialized and this
   argument is supplied, the generic function <a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
   is called once for each <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> in the previously stored value but not
   in the new value; the generic function <a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> is
   called once for each <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> in the new value but not in the
   previously stored value.</p></li><li>The <code class="constant">:DOCUMENTATION</code> argument is
 a <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_string.html" target="_top"><code class="classname">STRING</code></a> or <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>. An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if it is not. This argument default
 to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> during initialization.</li><li><p>The <code class="constant">:NAME</code> argument is an object.</p><p>If the class is being initialized, this argument defaults to
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</p></li></ul></div><p>After the processing and defaulting of initialization arguments
described above, the value of each initialization argument is associated
with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.  These values can then be accessed by calling
the corresponding generic function.  The correspondences are as follows:
 </p><div class="table"><a id="class-mo-initargs"></a><p class="title"><b>Table 29.2. Initialization arguments and
   accessors for <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s</b></p><div class="table-contents"><table summary="Initialization arguments and&#10;   accessors for class metaobjects" border="1"><colgroup><col /><col /></colgroup><thead><tr><th align="center">Initialization Argument</th><th align="center">Generic Function</th></tr></thead><tbody><tr><td align="center"><code class="constant">:DIRECT-DEFAULT-INITARGS</code></td><td align="center"><a class="link" href="mop-classes.html#class-direct-default-initargs" title="29.3.3.4. Generic Function CLOS:CLASS-DIRECT-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DIRECT-DEFAULT-INITARGS</code></a></td></tr><tr><td align="center"><code class="constant">:DIRECT-SLOTS</code></td><td align="center"><a class="link" href="mop-classes.html#class-direct-slots" title="29.3.3.3. Generic Function CLOS:CLASS-DIRECT-SLOTS"><code class="function">CLOS:CLASS-DIRECT-SLOTS</code></a></td></tr><tr><td align="center"><code class="constant">:DIRECT-SUPERCLASSES</code></td><td align="center"><a class="link" href="mop-classes.html#class-direct-superclasses" title="29.3.3.2. Generic Function CLOS:CLASS-DIRECT-SUPERCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUPERCLASSES</code></a></td></tr><tr><td align="center"><code class="constant">:DOCUMENTATION</code></td><td align="center"><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_doc_umentationcp.html" target="_top"><code class="function">DOCUMENTATION</code></a></td></tr><tr><td align="center"><code class="constant">:NAME</code></td><td align="center"><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a></td></tr></tbody></table></div></div><p><br class="table-break" /></p><p>Instances of the class <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> support multiple
inheritance and reinitialization.  Instances of the class
<a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a> support multiple inheritance and
reinitialization.  For forward referenced classes, all of the
initialization arguments default to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>Instances of the class <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_structure-class.html" target="_top"><code class="classname">STRUCTURE-CLASS</code></a> do
  not support multiple inheritance and reinitialization.
</p></div><p>Since built-in classes cannot be created or reinitialized by the
user, an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> or <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>
are called to initialize or reinitialize a derived instance of the class
<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="class-mo-init-methods"></a>29.3.5.1.1. Methods</h5></div></div></div><p>It is not specified which methods provide the initialization and
reinitialization behavior described above.  Instead, the information
needed to allow portable programs to specialize this behavior is
presented as a set of restrictions on the methods a portable program can
define.  The model is that portable initialization methods have access
to the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> when either all or none of the specified initialization
has taken effect.</p><p>These restrictions govern the methods that a portable program can
 define on the generic functions <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a>,
 <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>, and <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.
 These restrictions apply only to methods on these generic functions for
 which the first specializer is a subclass of the class <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>.
 Other portable methods on these generic functions are not affected by
 these restrictions.</p><div class="itemizedlist"><ul type="disc"><li>Portable programs must not define methods on
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_sha_d-initialize.html" target="_top"><code class="function">SHARED-INITIALIZE</code></a>.</li><li><p>For <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_ini_ize-instance.html" target="_top"><code class="function">INITIALIZE-INSTANCE</code></a> and <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>:
   </p><div class="itemizedlist"><ul type="circle"><li>Portable programs must not define primary methods.
 </li><li>Portable programs may define around-methods, but
   these must be extending, not overriding methods.</li><li>Portable before-methods must assume that when they
   are run, none of the initialization behavior described above has been
   completed.</li><li>Portable after-methods must assume that when they
   are run, all of the initialization behavior described above has been
   completed.</li></ul></div></li></ul></div><p>The results are undefined if any of
 these restrictions are violated.</p></div>
<!--class-mo-init-methods-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="mop-cl-init-anon"></a>29.3.5.1.2. Initialization of Anonymous Classes</h5></div></div></div><p><a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s created with <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are usually
 <strong class="first"><em class="firstterm">anonymous</em></strong>; that is, they have no <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name">proper name</a>.
An anonymous <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> can be given a <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name">proper name</a> using
<code class="code">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>)</code> and
<code class="code">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_setfcm_psetf.html" target="_top"><code class="function">SETF</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_class-name.html" target="_top"><code class="function">CLASS-NAME</code></a>)</code>.</p><p>When a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is created with <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>, it is initialized
in the usual way.  The initialization arguments passed to
<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are use to establish the definition of the class.  Each
initialization argument is checked for errors and associated with the
<a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.  The initialization arguments correspond roughly to the
arguments accepted by the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro, and more closely to the
arguments accepted by the <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> function.</p><p>Some <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes allow their instances to be
 redefined.  When permissible, this is done by calling
 <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  This is discussed in the
 <a class="link" href="mop-classes.html#mop-cl-reinit-mo" title="29.3.5.2. Reinitialization of class metaobjects">next section</a>.</p><p>An example of creating an anonymous class directly using
<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> follows:</p><pre class="programlisting">
(flet ((zero () 0)
       (propellor () *propellor*))
  (make-instance 'standard-class
    :name '(my-class foo)
    :direct-superclasses (list (find-class 'plane)
                               another-anonymous-class)
    :direct-slots `((:name x
                     :initform 0
                     :initfunction ,#'zero
                     :initargs (:x)
                     :readers (position-x)
                     :writers ((setf position-x)))
                    (:name y
                     :initform 0
                     :initfunction ,#'zero
                     :initargs (:y)
                     :readers (position-y)
                     :writers ((setf position-y))))
    :direct-default-initargs `((:engine *propellor* ,#'propellor))))
</pre></div>
<!--mop-cl-init-anon-->
</div>
<!--mop-cl-init-mo-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-cl-reinit-mo"></a>29.3.5.2. Reinitialization of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s</h4></div></div></div><p>Some <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes allow their instances to be reinitialized.
This is done by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>.  The initialization
arguments have the same interpretation as in class initialization.</p><p>If the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> was finalized before the call to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a>,
<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> will be called again once all the initialization
arguments have been processed and associated with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.
In addition, once finalization is complete, any dependents of the
<a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> will be updated by calling <a class="link" href="mop-dep-maint.html#update-dependent" title="29.11.1.1. Generic Function CLOS:UPDATE-DEPENDENT"><code class="function">CLOS:UPDATE-DEPENDENT</code></a>.</p></div>
<!--mop-cl-reinit-mo-->
</div>
<!--mop-cl-init-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-customize"></a>29.3.6. Customization</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#setf-class-name">29.3.6.1. Generic Function <code class="code">(SETF CLASS-NAME)</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#ensure-class">29.3.6.2. Generic Function <code class="function">CLOS:ENSURE-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#ensure-class-UC">29.3.6.3. Generic Function <code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#finalize-inheritance">29.3.6.4. Generic Function <code class="function">CLOS:FINALIZE-INHERITANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#mop-make-instance">29.3.6.5. Generic Function <code class="function">MAKE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#alloc-instance">29.3.6.6. Generic Function <code class="function">ALLOCATE-INSTANCE</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#validate-superclass">29.3.6.7. Generic Function <code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-dsd-initargs">29.3.6.8. Generic Function <code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#dsd-class">29.3.6.9. Generic Function <code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-cpl">29.3.6.10. Generic Function <code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-slots">29.3.6.11. Generic Function <code class="function">CLOS:COMPUTE-SLOTS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-esd">29.3.6.12. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-esd-initargs">29.3.6.13. Generic Function <code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#esd-class">29.3.6.14. Generic Function <code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#compute-default-initargs">29.3.6.15. Generic Function <code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></span></dt></dl></div>
<!--begin class basic customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="setf-class-name"></a>29.3.6.1. Generic Function <a class="link" href="mop-classes.html#setf-class-name" title="29.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#setf-class-name" title="29.3.6.1. Generic Function (SETF CLASS-NAME)"><code class="code">(SETF CLASS-NAME)</code></a> <em class="replaceable"><code>new-name</code></em>
 <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>new-name</code></em></span></dt><dd>any Lisp object.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>The <em class="replaceable"><code>new-name</code></em> argument.</dd><dt><span class="term">Purpose</span></dt><dd><p>This function changes the name of <em class="replaceable"><code>class</code></em> to <em class="replaceable"><code>new-name</code></em>.
   This value is usually a symbol, or <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a> if the class has no name.</p><p>This function works by calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> with
   <em class="replaceable"><code>class</code></em> as its first argument, the symbol <code class="constant">:NAME</code> as its second
   argument and <em class="replaceable"><code>new-name</code></em> as its third argument.
</p></dd></dl></div></div>
<!--setf-class-name-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ensure-class"></a>29.3.6.2. Generic Function <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> <em class="replaceable"><code>name</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>.</dd><dt><span class="term">keyword arguments</span></dt><dd>Some of the keyword arguments accepted by this
      function are actually processed by <a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>,
      others are processed during initialization of the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>
      (as described in <a class="xref" href="mop-classes.html#mop-cl-init-mo" title="29.3.5.1. Initialization of class metaobjects">Section 29.3.5.1, “Initialization of class metaobjects”</a>).
</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This function is called to define or redefine a
   class with the specified name, and can be called by the user or the
   implementation.  It is the functional equivalent of <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a>, and
   is called by the expansion of the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/mac_defclass.html" target="_top"><code class="function">DEFCLASS</code></a> macro.</p><p>The behavior of this function is actually implemented by the
   generic function <a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>.  When <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a> is called,
   it immediately calls <a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> and returns that result as its
   own.</p><p>The first argument to <a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> is computed as
   follows:</p><div class="itemizedlist"><ul type="disc"><li>If <em class="replaceable"><code>name</code></em> names a class (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a> returns a
      class when called with <em class="replaceable"><code>name</code></em>) use that class.</li><li>Otherwise use <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</li></ul></div><p>
   The second argument is <em class="replaceable"><code>name</code></em>.  The remaining arguments are the
   complete set of keyword arguments received by the <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
   function.</p></dd></dl></div></div>
<!--ensure-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ensure-class-UC"></a>29.3.6.3. Generic Function <a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>name</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a>
    <code class="constant">:DIRECT-DEFAULT-INITARGS</code> <code class="constant">:DIRECT-SLOTS</code> <code class="constant">:DIRECT-SUPERCLASSES</code>
    <code class="constant">:NAME</code> <code class="constant">:METACLASS</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> or <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.</dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a class name.</dd><dt><span class="term"><code class="constant">:METACLASS</code></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> class or a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> class name.  If this
      argument is not supplied, it defaults to the class named
      <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>.  If a class name is supplied, it is interpreted
      as the class with that name.  If a class name is supplied, but
      there is no such class, an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</dd><dt><span class="term"><code class="constant">:DIRECT-SUPERCLASSES</code></span></dt><dd>a list of which each element is a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> or a
      class name.  An <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if this argument is not a
      <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_list">proper list</a>.</dd><dt><span class="term">additional keyword arguments</span></dt><dd>See <a class="xref" href="mop-classes.html#mop-cl-init-mo" title="29.3.5.1. Initialization of class metaobjects">Section 29.3.5.1, “Initialization of class metaobjects”</a>
</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to define or modify
   the definition of a named class.  It is called by the <a class="link" href="mop-classes.html#ensure-class" title="29.3.6.2. Generic Function CLOS:ENSURE-CLASS"><code class="function">CLOS:ENSURE-CLASS</code></a>
   function.  It can also be called directly.</p><p>The first step performed by this generic function is to
   compute the set of initialization arguments which will be used to
   create or reinitialize the named class.  The initialization arguments
   are computed from the full set of keyword arguments received by this
   generic function as follows:</p><div class="itemizedlist"><ul type="disc"><li>The <code class="constant">:METACLASS</code> argument is not included in the
      initialization arguments.</li><li><p>If the <code class="constant">:DIRECT-SUPERCLASSES</code> argument was received
      by this generic function, it is converted into a list of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.
      This conversion does not affect the structure of the supplied
      <code class="constant">:DIRECT-SUPERCLASSES</code> argument.  For each element in the
      <code class="constant">:DIRECT-SUPERCLASSES</code> argument:</p><div class="itemizedlist"><ul type="circle"><li>If the element is a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>, that
         <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is used.</li><li>If the element names a class, that <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is
         used.</li><li><p>Otherwise an instance of the class
         <a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a> is created and used.
         The <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name">proper name</a> of the newly created forward referenced
         <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is set to the element.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>A new <a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>
          instance is only created when one for the given class name
          does not yet exist; otherwise the existing one is reused.
          See <a class="xref" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span class="command"><strong>CLISP</strong></span></a>.</p></div></li></ul></div></li><li>All other keyword arguments are included directly
      in the initialization arguments.</li></ul></div><p>If the <em class="replaceable"><code>class</code></em> argument is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>, a new <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is created
   by calling the <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> generic function with the value of the
   <code class="constant">:METACLASS</code> argument as its first argument, and the previously
   computed initialization arguments.  The <a class="" href="http://www.lisp.org/HyperSpec/Body/glo_p.html#proper_name">proper name</a> of the
   newly created <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is set to <em class="replaceable"><code>name</code></em>.  The newly created <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is
   returned.</p><p>If the <em class="replaceable"><code>class</code></em> argument is a forward referenced class,
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> is called to change its class to the value specified
   by the <code class="constant">:METACLASS</code> argument.  The <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is then reinitialized with
   the previously initialization arguments.  (This is a documented
   violation of the general constraint that <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_change-class.html" target="_top"><code class="function">CHANGE-CLASS</code></a> may not be
   used with <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.)</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>
    The <em class="replaceable"><code>class</code></em> argument cannot be a forward referenced class. See
    <a class="xref" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span class="command"><strong>CLISP</strong></span></a>.</p></div><p>If the class of the <em class="replaceable"><code>class</code></em> argument is not the same as the
   class specified by the <code class="constant">:METACLASS</code> argument, an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed.</p><p>Otherwise, the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> <em class="replaceable"><code>class</code></em> is redefined by calling the
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_rei_ize-instance.html" target="_top"><code class="function">REINITIALIZE-INSTANCE</code></a> generic function with <em class="replaceable"><code>class</code></em> and the
   initialization arguments.  The <em class="replaceable"><code>class</code></em> argument is then
   returned.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) <em class="replaceable"><code>name</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is a class.</p><p>This method can be overridden.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd><p>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is a forward
   referenced class.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>This method does not exist.
   See <a class="xref" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP">Implementation of class <code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code> in <span class="command"><strong>CLISP</strong></span></a>.
   Use the method specialized on <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><code class="classname">NULL</code></a> instead.</p></div></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#ensure-class-UC" title="29.3.6.3. Generic Function CLOS:ENSURE-CLASS-USING-CLASS"><code class="function">CLOS:ENSURE-CLASS-USING-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_null.html" target="_top"><code class="classname">NULL</code></a>) <em class="replaceable"><code>name</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;KEY</code></a> <code class="constant">:METACLASS</code>
   <code class="constant">:DIRECT-SUPERCLASSES</code> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;ALLOW-OTHER-KEYS</code></a>)</code></span></span></dt><dd>This method implements the behavior of the generic
   function in the case where the <em class="replaceable"><code>class</code></em> argument is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/convar_nil.html" target="_top"><code class="constant">NIL</code></a>.
</dd></dl></div></div>
<!--ensure-class-UC-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="finalize-inheritance"></a>29.3.6.4. Generic Function <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
     <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to finalize a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.
   This is described in <a class="xref" href="mop-classes.html#mop-cl-finalization" title="29.3.4. Class Finalization Protocol">Section 29.3.4, “Class Finalization Protocol”</a>
  </p><p>After <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> returns, the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> is
   finalized and the result of calling <a class="link" href="mop-classes.html#class-finalized-p" title="29.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> on the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>
   will be true.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd>No behavior is specified for these
   methods beyond that which is specified for their respective generic
   functions.</dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-overview.html#forward-referenced-class-clisp" title="Implementation of class CLOS:FORWARD-REFERENCED-CLASS in CLISP"><code class="classname">CLOS:FORWARD-REFERENCED-CLASS</code></a>))</code></span></span></dt><dd>This method <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--finalize-inheritance-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="mop-make-instance"></a>29.3.6.5. Generic Function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> <em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> or a class name.
   </dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a list of alternating initialization argument
      names and values.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A newly allocated and initialized instance of <em class="replaceable"><code>class</code></em>.
</dd><dt><span class="term">Purpose</span></dt><dd>The generic function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> creates and
   returns a new instance of the given class.  Its behavior and use is
   described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>].
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_symbol.html" target="_top"><code class="classname">SYMBOL</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>This method simply invokes <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>
   recursively on the arguments <span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/acc_find-class.html" target="_top"><code class="function">FIND-CLASS</code></a>
   <em class="replaceable"><code>class</code></em>)</code></span> and <em class="replaceable"><code>initargs</code></em>.</dd><dt><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>These methods implement the behavior of
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_7-1.html" target="_top">7.1
    “<span class="quote">Object Creation and Initialization</span>”</a>.
</dd></dl></div></div>
<!--mop-make-instance-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="alloc-instance"></a>29.3.6.6. Generic Function <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a> <em class="replaceable"><code>class</code></em>
     <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>alternating initialization argument names and
      values.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A newly allocated instance of <em class="replaceable"><code>class</code></em>
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to create a new,
   uninitialized instance of a class.  The interpretation of the concept
   of an <strong class="first"><em class="firstterm">uninitialized</em></strong> instance depends on the
   <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> class.</p><p>Before allocating the new instance, <a class="link" href="mop-classes.html#class-finalized-p" title="29.3.3.9. Generic Function CLOS:CLASS-FINALIZED-P"><code class="function">CLOS:CLASS-FINALIZED-P</code></a> is
   called to see if <em class="replaceable"><code>class</code></em> has been finalized.  If it has not been
   finalized, <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> is called before the new instance
   is allocated.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em></code></span></span></dt><dd>This method allocates storage in the instance for
   each slot with allocation <code class="constant">:INSTANCE</code>.  These slots are unbound.
   Slots with any other allocation are ignored by this method (no
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</dd><dt><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>This method allocates storage in the instance for
   each slot with allocation <code class="constant">:INSTANCE</code>.  These slots are unbound.
   Slots with any other allocation are ignored by this method (no
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed).</p><p>The funcallable instance function of the instance is
   undefined - the results are undefined if the instance is applied to
   arguments before <a class="link" href="mop-slot-access.html#set-fif" title="29.10.3.3. Function CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION"><code class="function">CLOS:SET-FUNCALLABLE-INSTANCE-FUNCTION</code></a> has been used
   to set the funcallable instance function.
</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_all_ate-instance.html" target="_top"><code class="function">ALLOCATE-INSTANCE</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_built-in-class.html" target="_top"><code class="classname">BUILT-IN-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd>This method <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a>.
</dd></dl></div></div>
<!--alloc-instance-->
<!--end class basic customization-->
<!--begin class advanced customization-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="validate-superclass"></a>29.3.6.7. Generic Function <a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> <em class="replaceable"><code>class</code></em>
    <em class="replaceable"><code>superclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>A <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd><a class="ulink" href="http://www.lisp.org/HyperSpec/Body/typ_boolean.html" target="_top"><code class="classname">BOOLEAN</code></a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to determine whether
   the class <em class="replaceable"><code>superclass</code></em> is suitable for use as a superclass of
   <em class="replaceable"><code>class</code></em>.</p><p>This generic function can be be called by the implementation
   or user code.  It is called during <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> initialization and
   reinitialization, before the direct superclasses are stored.  If this
   generic function returns false, the initialization or
   reinitialization will signal an error.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>superclass</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>This method returns true in three situations:
  </p><div class="orderedlist"><ol type="i"><li>If the <em class="replaceable"><code>superclass</code></em> argument is the class named <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>,
   </li><li>if the class of the <em class="replaceable"><code>class</code></em> argument is the same
     as the class of the <em class="replaceable"><code>superclass</code></em> argument, or
   </li><li>if the class of one of the arguments is
     <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a> and the class of the other is
     <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>.</li></ol></div><p>In all other cases, this method returns false.</p><p>This method can be overridden.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>This method also returns true in a fourth situation:
   </p><div class="orderedlist"><ol start="4" type="i"><li>If the class of the <em class="replaceable"><code>class</code></em> argument is a subclass
      of the class of the <em class="replaceable"><code>superclass</code></em> argument.
 </li></ol></div></div></dd></dl></div><p><b>Remarks. </b>Defining a method on <a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> requires detailed
 knowledge of of the internal protocol followed by each of the two
 <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes.  A method on <a class="link" href="mop-classes.html#validate-superclass" title="29.3.6.7. Generic Function CLOS:VALIDATE-SUPERCLASS"><code class="function">CLOS:VALIDATE-SUPERCLASS</code></a> which returns true
 for two different <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a> classes declares that they are
 compatible.</p></div>
<!--validate-superclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-dsd-initargs"></a>29.3.6.8. Generic Function <a class="link" href="mop-classes.html#compute-dsd-initargs" title="29.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a></h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p></p></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-dsd-initargs" title="29.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a> <em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
     <em class="replaceable"><code>slot-spec</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>slot-spec</code></em></span></dt><dd>a
       <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A list of initialization arguments for a <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the initialization
   arguments for the direct slot definition for a slot in a class.
   It is called during initialization of a class.  The resulting
   initialization arguments are passed to <a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> and then to
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p><p>This generic function uses the supplied <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>.
   The value of <code class="constant">:NAME</code> in the returned initargs is the same as the value
   of <code class="constant">:NAME</code> in the supplied <em class="replaceable"><code>slot-spec</code></em> argument.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-dsd-initargs" title="29.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>slot-spec</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-dsd-initargs" title="29.3.6.8. Generic Function CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-DIRECT-SLOT-DEFINITION-INITARGS</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>slot-spec</code></em>)</code></span></span></dt><dd><p>This method returns <em class="replaceable"><code>slot-spec</code></em> unmodified.</p><p>This method can be overridden.</p></dd></dl></div></div>
<!--compute-dsd-initargs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="dsd-class"></a>29.3.6.9. Generic Function <a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> <em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>a set of initialization arguments and values.
</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A subclass of the class <a class="link" href="mop-overview.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:DIRECT-SLOT-DEFINITION</code></a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>When a class is initialized, each of the
   <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a>s must be converted to a <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.
   This generic function is called to determine
   the class of that <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.</p><p>The <em class="replaceable"><code>initargs</code></em> argument is simply the
   <a class="link" href="mop-classes.html#mop-canonicalized-slot-spec">canonicalized slot specification</a> for the slot.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a>
    (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#dsd-class" title="29.3.6.9. Generic Function CLOS:DIRECT-SLOT-DEFINITION-CLASS"><code class="function">CLOS:DIRECT-SLOT-DEFINITION-CLASS</code></a> (<em class="replaceable"><code>class</code></em>
    <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods return the class <a class="link" href="mop-overview.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-DIRECT-SLOT-DEFINITION</code></a>.
  </p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--dsd-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-cpl"></a>29.3.6.10. Generic Function <a class="link" href="mop-classes.html#compute-cpl" title="29.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-cpl" title="29.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a>
     <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A list of <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic-function is called to determine the
   class precedence list of a class.</p><p>The result is a list which contains each of <em class="replaceable"><code>class</code></em> and its
   superclasses once and only once.  The first element of the list is
   <em class="replaceable"><code>class</code></em> and the last element is the class named <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_t.html" target="_top"><code class="classname">T</code></a>.</p><p>All methods on this generic function must compute the class
   precedence list as a function of the ordered direct superclasses of
   the superclasses of <em class="replaceable"><code>class</code></em>.  The results are undefined if the
   rules used to compute the class precedence list depend on any other
   factors.</p><p>When a class is finalized, <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls this
   generic function and associates the returned value with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.
   The value can then be accessed by calling <a class="link" href="mop-classes.html#cpl" title="29.3.3.5. Generic Function CLOS:CLASS-PRECEDENCE-LIST"><code class="function">CLOS:CLASS-PRECEDENCE-LIST</code></a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-cpl" title="29.3.6.10. Generic Function CLOS:COMPUTE-CLASS-PRECEDENCE-LIST"><code class="function">CLOS:COMPUTE-CLASS-PRECEDENCE-LIST</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>This method computes the class precedence list
   according to the rules described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_4-3-5.html" target="_top">4.3.5 “<span class="quote">Determining the
     Class Precedence List</span>”</a>.</p><p>This method <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>s an <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> if <em class="replaceable"><code>class</code></em> or any of its superclasses
  is a forward referenced class.</p><p>This method can be overridden.</p></dd></dl></div></div>
<!--compute-cpl-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-slots"></a>29.3.6.11. Generic Function <a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <em class="replaceable"><code>class</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A set of <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function computes a set of effective
   <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s for the class <em class="replaceable"><code>class</code></em>.  The result is a list of <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s:
   one for each slot that will be accessible in instances of <em class="replaceable"><code>class</code></em>.
  </p><p>This generic function proceeds in 3 steps:</p><p>The first step collects the full set of direct slot
   definitions from the superclasses of <em class="replaceable"><code>class</code></em>.</p><p>The direct slot definitions are then collected into
   individual lists, one list for each slot name associated with any of
   the direct slot definitions.  The slot names are compared with
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/typspe_eql.html" target="_top"><code class="classname">EQL</code></a>.  Each such list is then sorted into class precedence list
   order.  Direct slot definitions coming from classes earlier in the
   class precedence list of <em class="replaceable"><code>class</code></em> appear before those coming from
   classes later in the class precedence list.  For each slot name, the
   generic function <a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> is called to compute an effective slot
   definition.  The result of <a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> is a list of these
   effective slot definitions, in unspecified order.</p><p>In the final step, the location for each effective slot
   definition is set.  This is done by specified around-methods;
   portable methods cannot take over this behavior.
   For more information on the slot definition locations,
   see <a class="xref" href="mop-slot-access.html#mop-sa-instance-struct" title="29.10.1. Instance Structure Protocol">Section 29.10.1, “Instance Structure Protocol”</a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>)}</code></span></span></dt><dd><p>These methods implement the specified behavior of
   the generic function.</p><p>These methods can be overridden.</p></dd><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   <code class="constant">:AROUND</code> (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a> <code class="constant">:AROUND</code>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd>These methods implement the specified behavior of
   computing and storing slot locations.
   These methods cannot be overridden.
</dd></dl></div></div>
<!--compute-slots-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-esd"></a>29.3.6.12. Generic Function <a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>name</code></em></span></dt><dd>a slot name.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot-definitions</code></em></span></dt><dd>an ordered list of <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.  The most specific
      <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> appears first in the list.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>An <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the effective slot
   definition for a slot in a class.  It is called by <a class="link" href="mop-classes.html#compute-slots" title="29.3.6.11. Generic Function CLOS:COMPUTE-SLOTS"><code class="function">CLOS:COMPUTE-SLOTS</code></a>
   once for each slot accessible in instances of <em class="replaceable"><code>class</code></em>.</p><p>This generic function uses the supplied list of <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s to
   compute the inheritance of slot properties for a single slot.  The
   returned effective slot definition represents the result of computing
   the inheritance.  The name of the new effective slot definition is
   the same as the name of the direct slot definitions supplied.</p><p>The class of the <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> is determined by calling
   <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>.  The effective slot definition is then created by
   calling <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.  The initialization arguments passed in this
   call to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are used to initialize the new <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.
   See <a class="xref" href="mop-sd.html" title="29.4. Slot Definitions">Section 29.4, “Slot Definitions”</a> for details.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>name</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span></span></dt><dd><p>This method implements the
 inheritance and defaulting of slot options following the rules
 described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_7-5-3.html" target="_top">7.5.3 “<span class="quote">Inheritance of Slots and Options</span>”</a>.</p><p>This method can be extended, but the value returned by the
   extending method must be the value returned by this method.
</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p>The initialization arguments that are passed
  to <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> are computed through a call to
  <a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a>.  It is the <a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> method that
  implements the inheritance rules.</p></div></div>
<!--compute-esd-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-esd-initargs"></a>29.3.6.13. Generic Function <a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a></h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Implementation dependent: only in <span class="command"><strong>CLISP</strong></span></h3><p></p></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> <em class="replaceable"><code>class</code></em> <em class="replaceable"><code>direct-slot-definitions</code></em>)
 </code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>direct-slot-definitions</code></em></span></dt><dd>an ordered list of <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s.  The most specific
      <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> appears first in the list.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A list of initialization arguments for an <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function determines the initialization
   arguments for the effective slot definition for a slot in a class.
   It is called by <a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a>.  The resulting initialization arguments
   are passed to <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> and then to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a>.</p><p>This generic function uses the supplied list of <a class="link" href="mop-overview.html#mop-dsd-mo">direct</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>s to
   compute the inheritance of slot properties for a single slot.  The
   returned effective slot definition initargs represent the result of
   computing the inheritance.  The value of <code class="constant">:NAME</code> in the returned
   initargs is the same as the name of the direct slot definitions
   supplied.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-esd-initargs" title="29.3.6.13. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION-INITARGS</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <em class="replaceable"><code>direct-slot-definitions</code></em>)</code></span></span></dt><dd><p>This method implements the
 inheritance and defaulting of slot options following the rules
 described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_7-5-3.html" target="_top">7.5.3 “<span class="quote">Inheritance of Slots and Options</span>”</a>.</p><p>This method can be extended.</p></dd></dl></div></div>
<!--compute-esd-initargs-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="esd-class"></a>29.3.6.14. Generic Function <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> <em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a>
    <em class="replaceable"><code>initargs</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>initargs</code></em></span></dt><dd>set of initialization arguments and values.
</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A subclass of the class <a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>.
</dd><dt><span class="term">Purpose</span></dt><dd>This generic function is called by <a class="link" href="mop-classes.html#compute-esd" title="29.3.6.12. Generic Function CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION"><code class="function">CLOS:COMPUTE-EFFECTIVE-SLOT-DEFINITION</code></a> to
   determine the class of the resulting <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a>.  The <em class="replaceable"><code>initargs</code></em>
   argument is the set of initialization arguments and values that will
   be passed to <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/stagenfun_make-instance.html" target="_top"><code class="function">MAKE-INSTANCE</code></a> when the <a class="link" href="mop-overview.html#mop-esd-mo">effective</a> <a class="link" href="mop-overview.html#mop-slot-def-mo">slot definition metaobject</a> is created.
</dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#esd-class" title="29.3.6.14. Generic Function CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS"><code class="function">CLOS:EFFECTIVE-SLOT-DEFINITION-CLASS</code></a> (<em class="replaceable"><code>class</code></em>
   <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>) <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_3-4-1.html" target="_top"><code class="literal">&amp;REST</code></a> <em class="replaceable"><code>initargs</code></em>)</code></span></span></dt><dd><p>These methods return the class <a class="link" href="mop-overview.html#mop-inherit-struct" title="Table 29.1. Direct Superclass Relationships Among The Specified Metaobject Classes"><code class="classname">CLOS:STANDARD-EFFECTIVE-SLOT-DEFINITION</code></a>.
  </p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--esd-class-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="compute-default-initargs"></a>29.3.6.15. Generic Function <a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
    <em class="replaceable"><code>class</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>class</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Value</span></dt><dd>A list of <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s.
</dd><dt><span class="term">Purpose</span></dt><dd><p>This generic-function is called to determine the
   default initialization arguments for a class.</p><p>The result is a list of <a class="link" href="mop-classes.html#mop-canonicalized-default-initarg">canonicalized default initialization argument</a>s,
  with no duplication among initialization argument names.</p><p>All methods on this generic function must compute the default
  initialization arguments as a function of only:
  </p><div class="orderedlist"><ol type="i"><li>the class precedence list of <em class="replaceable"><code>class</code></em>,
     and</li><li>the direct default initialization arguments of each
     class in that list.</li></ol></div><p>The results are undefined if the rules used to compute
  the default initialization arguments depend on any other factors.</p><p>When a class is finalized, <a class="link" href="mop-classes.html#finalize-inheritance" title="29.3.6.4. Generic Function CLOS:FINALIZE-INHERITANCE"><code class="function">CLOS:FINALIZE-INHERITANCE</code></a> calls this
  generic function and associates the returned value with the <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.
  The value can then be accessed by calling
  <a class="link" href="mop-classes.html#class-default-initargs" title="29.3.3.8. Generic Function CLOS:CLASS-DEFAULT-INITARGS"><code class="function">CLOS:CLASS-DEFAULT-INITARGS</code></a>.</p><p>The list returned by this function
 will not be mutated by the implementation.  The results are undefined
 if a portable program mutates the list returned by this function.</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_standard-class.html" target="_top"><code class="classname">STANDARD-CLASS</code></a>))</code></span><br /></span><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#compute-default-initargs" title="29.3.6.15. Generic Function CLOS:COMPUTE-DEFAULT-INITARGS"><code class="function">CLOS:COMPUTE-DEFAULT-INITARGS</code></a>
   (<em class="replaceable"><code>class</code></em> <a class="link" href="mop-slot-access.html#mop-sa-funcallable" title="29.10.2. Funcallable Instances"><code class="classname">CLOS:FUNCALLABLE-STANDARD-CLASS</code></a>))</code></span></span></dt><dd><p>These methods compute the default initialization
   arguments according to the rules described in the [<span class="citation"><a class="link" href="references.html#ansi-cl" title="ANSI INCITS 226-1994 (R1999) Information Technology - Programming Language - Common Lisp [formerly ANSI X3.226-1994 (R1999)]">ANSI CL standard</a></span>] section
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/sec_7-1-3.html" target="_top">7.1.3 “<span class="quote">Defaulting
     of Initialization Arguments</span>”</a>.</p><p>These methods signal an error if <em class="replaceable"><code>class</code></em> or any of its
   superclasses is a forward referenced class.</p><p>These methods can be overridden.</p></dd></dl></div></div>
<!--compute-default-initargs-->
<!--end class advanced customization-->
</div>
<!--mop-cl-customize-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="mop-cl-dep"></a>29.3.7. Updating Dependencies</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="mop-classes.html#add-direct-subclass">29.3.7.1. Generic Function <code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></span></dt><dt><span class="section"><a href="mop-classes.html#remove-direct-subclass">29.3.7.2. Generic Function <code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></span></dt></dl></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="add-direct-subclass"></a>29.3.7.1. Generic Function <a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a> <em class="replaceable"><code>superclass</code></em>
    <em class="replaceable"><code>subclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>subclass</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a class to its direct subclasses.  This generic
   function adds <em class="replaceable"><code>subclass</code></em> to the set of direct subclasses of
   <em class="replaceable"><code>superclass</code></em>.</p><p>When a class is initialized, this generic function is called
   once for each direct superclass of the class.</p><p>When a class is reinitialized, this generic function is
   called once for each added direct superclass of the class.  The
   generic function <a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a> is called once for each
   deleted direct superclass of the class.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>
   (<em class="replaceable"><code>superclass</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>subclass</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a>
       (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div><p>
</p></dd></dl></div></div>
<!--add-direct-subclass-->
<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="remove-direct-subclass"></a>29.3.7.2. Generic Function <a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a></h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Syntax</span></dt><dd><code class="code">(<a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a> <em class="replaceable"><code>superclass</code></em>
    <em class="replaceable"><code>subclass</code></em>)</code></dd><dt><span class="term">Arguments</span></dt><dd><div class="variablelist"><dl><dt><span class="term"><em class="replaceable"><code>superclass</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd><dt><span class="term"><em class="replaceable"><code>subclass</code></em></span></dt><dd>a <a class="link" href="mop-overview.html#mop-class-mo">class metaobject</a>.</dd></dl></div></dd><dt><span class="term">Values</span></dt><dd>The values returned by this generic function is unspecified.
 </dd><dt><span class="term">Purpose</span></dt><dd><p>This generic function is called to maintain a set of
   backpointers from a class to its direct subclasses.  It removes
   <em class="replaceable"><code>subclass</code></em> from the set of direct subclasses of <em class="replaceable"><code>superclass</code></em>.  No
   <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/contyp_error.html" target="_top"><code class="classname">ERROR</code></a> is <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/fun_signal.html" target="_top"><code class="function">SIGNAL</code></a>ed if <em class="replaceable"><code>subclass</code></em> is not in this set.</p><p>Whenever a class is reinitialized, this generic function is
   called once with each deleted direct superclass of the class.
</p></dd></dl></div><div class="variablelist"><p class="title"><b>Methods</b></p><dl><dt><span class="term"><span class="method"><code class="literal">(<a class="link" href="mop-classes.html#remove-direct-subclass" title="29.3.7.2. Generic Function CLOS:REMOVE-DIRECT-SUBCLASS"><code class="function">CLOS:REMOVE-DIRECT-SUBCLASS</code></a>
   (<em class="replaceable"><code>superclass</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>) (<em class="replaceable"><code>subclass</code></em> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>))</code></span></span></dt><dd><p>No behavior is specified for this
   method beyond that which is specified for the generic function.</p><p>This method cannot be overridden unless the
 following methods are overridden as well:</p><div class="itemizedlist"><ul type="disc"><li><span class="method"><code class="literal"><a class="link" href="mop-classes.html#add-direct-subclass" title="29.3.7.1. Generic Function CLOS:ADD-DIRECT-SUBCLASS"><code class="function">CLOS:ADD-DIRECT-SUBCLASS</code></a>
      (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a> <a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li><li><span class="method"><code class="literal"><a class="link" href="mop-classes.html#class-direct-subclasses" title="29.3.3.6. Generic Function CLOS:CLASS-DIRECT-SUBCLASSES"><code class="function">CLOS:CLASS-DIRECT-SUBCLASSES</code></a>
      (<a class="ulink" href="http://www.lisp.org/HyperSpec/Body/syscla_class.html" target="_top"><code class="classname">CLASS</code></a>)</code></span></li></ul></div></dd></dl></div></div>
<!--remove-direct-subclass-->
</div>
<!--mop-cl-dep-->
</div><div class="bookinfo"><hr /><table width="100%" summary="impnotes meta info"><th><td align="left">These notes document <a class="ulink" href="http://clisp.cons.org" target="_top"><span class="command"><strong>CLISP</strong></span></a> version 2.46</td><td align="right">Last modified: 2008-07-02</td></th></table></div><div class="custom-footer"><hr /><table width="100%"><tr><td align="left"><a href="http://clisp.cons.org"><img src="clisp.png" width="48" height="48" alt="[CLISP home]" /></a></td><td align="center"><a href="http://sourceforge.net/donate/index.php?group_id=1355"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" alt="[Support CLISP]" /></a></td><td align="right"><a href="http://sourceforge.net"><img width="125" height="37" alt="[SourceForge]" src="http://sflogo.sourceforge.net/sflogo.php?group_id=1355&amp;type=2&amp;page=mop-classes" /></a></td></tr></table></div><hr /><form method="get" action="http://www.google.com/custom" target="_top"><table width="100%" border="0"><tr><td nowrap="nowrap" align="center"><input type="hidden" name="domains" value="clisp.cons.org;clisp.podval.org;www.lisp.org" /><label for="sbi" style="display: none">Enter your search terms</label><input type="text" name="q" size="50" maxlength="255" id="sbi" value="29.3. Classes" /><label for="sbb" style="display: none">Submit search form</label><input type="submit" name="sa" value="Google Search" id="sbb" /></td></tr><tr><td nowrap="nowrap" align="center"><input type="radio" name="sitesearch" value="" checked="1" id="ss0" /><label for="ss0" title="Search the Web"><small>Web</small></label><input type="radio" name="sitesearch" value="clisp.cons.org" id="ss1" /><label for="ss1" title="Search clisp.cons.org"><small>clisp.cons.org</small></label><input type="radio" name="sitesearch" value="clisp.podval.org" id="ss2" /><label for="ss2" title="Search clisp.podval.org"><small>clisp.podval.org</small></label><input type="radio" name="sitesearch" value="www.lisp.org" id="ss3" /><label for="ss3" title="Search www.lisp.org"><small>www.lisp.org</small></label><input type="hidden" name="client" value="pub-4445255502750357" /><input type="hidden" name="forid" value="1" /><input type="hidden" name="ie" value="UTF-8" /><input type="hidden" name="oe" value="UTF-8" /><input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:000000;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;LH:48;LW:48;L:http://clisp.cons.org/clisp.png;S:http://clisp.cons.org;FORID:1" /><input type="hidden" name="hl" value="en" /></td></tr></table></form><hr /><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mop-overview.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="mop-chap.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="mop-sd.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">29.2. Overview </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 29.4. Slot Definitions</td></tr></table></div></body></html>
