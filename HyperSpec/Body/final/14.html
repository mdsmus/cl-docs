<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 12 April 2005), see www.w3.org">
<title>CLHS: Chapter 14</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="f_name_c.htm">
<link rel="UP" href="../Front/Contents.htm">
<link rel="NEXT" href="14_a.htm">
<title>CLHS: Section 14.1</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_.htm">
<link rel="UP" href="14_.htm">
<link rel="NEXT" href="14_aa.htm">
<title>CLHS: Section 14.1.1</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_a.htm">
<link rel="UP" href="14_a.htm">
<link rel="NEXT" href="14_aaa.htm">
<title>CLHS: Section 14.1.1.1</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_aa.htm">
<link rel="UP" href="14_aa.htm">
<link rel="NEXT" href="14_ab.htm">
<title>CLHS: Section 14.1.2</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_aaa.htm">
<link rel="UP" href="14_a.htm">
<link rel="NEXT" href="14_aba.htm">
<title>CLHS: Section 14.1.2.1</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_ab.htm">
<link rel="UP" href="14_ab.htm">
<link rel="NEXT" href="14_abb.htm">
<title>CLHS: Section 14.1.2.2</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_aba.htm">
<link rel="UP" href="14_ab.htm">
<link rel="NEXT" href="14_abc.htm">
<title>CLHS: Section 14.1.2.3</title>
<link href="../Data/clhs.css" rel="stylesheet" type="text/css">
<meta http-equiv="Author" content="Kent M. Pitman">
<meta http-equiv="Organization" content="LispWorks Ltd.">
<link rel="TOP" href="../Front/index.htm">
<link rel="COPYRIGHT" href="../Front/Help.htm#Legal">
<link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer">
<link rel="PREV" href="14_abb.htm">
<link rel="UP" href="14_ab.htm">
<link rel="NEXT" href="c_conses.htm">
</head>
<body>
<p><a name="chapfourteen" id="chapfourteen"></a><a name="conses"
id="conses"></a></p>
<h2>14. Conses</h2>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1 Cons Concepts</h2>
<p>A <a rel="DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a>
is a compound data <a rel="DEFINITION" href=
"26_glo_o.htm#object"><i>object</i></a> having two components
called the <a rel="DEFINITION" href=
"26_glo_c.htm#car"><i>car</i></a> and the <a rel="DEFINITION" href=
"26_glo_c.htm#cdr"><i>cdr</i></a>.</p>
<pre>
<a rel="DEFINITION" href="f_car_c.htm#car">car</a>  <a rel=
"DEFINITION" href="a_cons.htm#cons">cons</a>    <a rel="DEFINITION"
href="f_rplaca.htm#rplacd">rplacd</a>  
<a rel="DEFINITION" href="f_car_c.htm#cdr">cdr</a>  <a rel=
"DEFINITION" href="f_rplaca.htm#rplaca">rplaca</a>          
</pre>
<p><b>Figure 14-1. Some defined names relating to conses.</b></p>
<p>Depending on context, a group of connected <a rel="DEFINITION"
href="26_glo_c.htm#cons"><i>conses</i></a> can be viewed in a
variety of different ways. A variety of operations is provided to
support each of these various views.</p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.1 Conses as Trees</h2>
<p>A <a rel="DEFINITION" href="26_glo_t.htm#tree"><i>tree</i></a>
is a binary recursive data structure made up of <a rel="DEFINITION"
href="26_glo_c.htm#cons"><i>conses</i></a> and <a rel="DEFINITION"
href="26_glo_a.htm#atom"><i>atoms</i></a>: the <a rel="DEFINITION"
href="26_glo_c.htm#cons"><i>conses</i></a> are themselves also
<a rel="DEFINITION" href="26_glo_t.htm#tree"><i>trees</i></a>
(sometimes called "subtrees" or "branches"), and the <a rel=
"DEFINITION" href="26_glo_a.htm#atom"><i>atoms</i></a> are terminal
nodes (sometimes called <a rel="DEFINITION" href=
"26_glo_l.htm#leaf"><i>leaves</i></a>). Typically, the <a rel=
"DEFINITION" href="26_glo_l.htm#leaf"><i>leaves</i></a> represent
data while the branches establish some relationship among that
data.</p>
<pre>
<a rel="DEFINITION" href="f_car_c.htm#caaaar">caaaar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#caddar">caddar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cdar">cdar</a>       <a rel=
"DEFINITION" href="f_substc.htm#nsubst">nsubst</a>         
<a rel="DEFINITION" href="f_car_c.htm#caaadr">caaadr</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cadddr">cadddr</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cddaar">cddaar</a>     <a rel=
"DEFINITION" href="f_substc.htm#nsubst-if">nsubst-if</a>      
<a rel="DEFINITION" href="f_car_c.htm#caaar">caaar</a>   <a rel=
"DEFINITION" href="f_car_c.htm#caddr">caddr</a>   <a rel=
"DEFINITION" href="f_car_c.htm#cddadr">cddadr</a>     <a rel=
"DEFINITION" href="f_substc.htm#nsubst-if-not">nsubst-if-not</a>  
<a rel="DEFINITION" href="f_car_c.htm#caadar">caadar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cadr">cadr</a>    <a rel=
"DEFINITION" href="f_car_c.htm#cddar">cddar</a>      <a rel=
"DEFINITION" href="f_nthcdr.htm#nthcdr">nthcdr</a>         
<a rel="DEFINITION" href="f_car_c.htm#caaddr">caaddr</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cdaaar">cdaaar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cdddar">cdddar</a>     <a rel=
"DEFINITION" href="f_sublis.htm#sublis">sublis</a>         
<a rel="DEFINITION" href="f_car_c.htm#caadr">caadr</a>   <a rel=
"DEFINITION" href="f_car_c.htm#cdaadr">cdaadr</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cddddr">cddddr</a>     <a rel=
"DEFINITION" href="f_substc.htm#subst">subst</a>          
<a rel="DEFINITION" href="f_car_c.htm#caar">caar</a>    <a rel=
"DEFINITION" href="f_car_c.htm#cdaar">cdaar</a>   <a rel=
"DEFINITION" href="f_car_c.htm#cdddr">cdddr</a>      <a rel=
"DEFINITION" href="f_substc.htm#subst-if">subst-if</a>       
<a rel="DEFINITION" href="f_car_c.htm#cadaar">cadaar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cdadar">cdadar</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cddr">cddr</a>       <a rel=
"DEFINITION" href="f_substc.htm#subst-if-not">subst-if-not</a>   
<a rel="DEFINITION" href="f_car_c.htm#cadadr">cadadr</a>  <a rel=
"DEFINITION" href="f_car_c.htm#cdaddr">cdaddr</a>  <a rel=
"DEFINITION" href="f_cp_tre.htm#copy-tree">copy-tree</a>  <a rel=
"DEFINITION" href="f_tree_e.htm#tree-equal">tree-equal</a>     
<a rel="DEFINITION" href="f_car_c.htm#cadar">cadar</a>   <a rel=
"DEFINITION" href="f_car_c.htm#cdadr">cdadr</a>   <a rel=
"DEFINITION" href=
"f_sublis.htm#nsublis">nsublis</a>                   
</pre>
<p><b>Figure 14-2. Some defined names relating to trees.</b></p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.1.1 General Restrictions on Parameters that must be
Trees</h2>
<p>Except as explicitly stated otherwise, for any <a rel=
"DEFINITION" href=
"26_glo_s.htm#standardized"><i>standardized</i></a> <a rel=
"DEFINITION" href="26_glo_f.htm#function"><i>function</i></a> that
takes a <a rel="DEFINITION" href=
"26_glo_p.htm#parameter"><i>parameter</i></a> that is required to
be a <a rel="DEFINITION" href="26_glo_t.htm#tree"><i>tree</i></a>,
the consequences are undefined if that <a rel="DEFINITION" href=
"26_glo_t.htm#tree"><i>tree</i></a> is circular.</p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.2 Conses as Lists</h2>
<p>A <a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a>
is a chain of <a rel="DEFINITION" href=
"26_glo_c.htm#cons"><i>conses</i></a> in which the <a rel=
"DEFINITION" href="26_glo_c.htm#car"><i>car</i></a> of each <a rel=
"DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a> is an <a rel=
"DEFINITION" href="26_glo_e.htm#element"><i>element</i></a> of the
<a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a>, and
the <a rel="DEFINITION" href="26_glo_c.htm#cdr"><i>cdr</i></a> of
each <a rel="DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a>
is either the next link in the chain or a terminating <a rel=
"DEFINITION" href="26_glo_a.htm#atom"><i>atom</i></a>.</p>
<p>A <a rel="DEFINITION" href="26_glo_p.htm#proper_list"><i>proper
list</i></a> is a <a rel="DEFINITION" href=
"26_glo_l.htm#list"><i>list</i></a> terminated by the <a rel=
"DEFINITION" href="26_glo_e.htm#empty_list"><i>empty list</i></a>.
The <a rel="DEFINITION" href="26_glo_e.htm#empty_list"><i>empty
list</i></a> is a <a rel="DEFINITION" href=
"26_glo_p.htm#proper_list"><i>proper list</i></a>, but is not a
<a rel="DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a>.</p>
<p>An <a rel="DEFINITION" href=
"26_glo_i.htm#improper_list"><i>improper list</i></a> is a <a rel=
"DEFINITION" href="26_glo_l.htm#list"><i>list</i></a> that is not a
<a rel="DEFINITION" href="26_glo_p.htm#proper_list"><i>proper
list</i></a>; that is, it is a <a rel="DEFINITION" href=
"26_glo_c.htm#circular_list"><i>circular list</i></a> or a <a rel=
"DEFINITION" href="26_glo_d.htm#dotted_list"><i>dotted
list</i></a>.</p>
<p>A <a rel="DEFINITION" href="26_glo_d.htm#dotted_list"><i>dotted
list</i></a> is a <a rel="DEFINITION" href=
"26_glo_l.htm#list"><i>list</i></a> that has a terminating <a rel=
"DEFINITION" href="26_glo_a.htm#atom"><i>atom</i></a> that is not
the <a rel="DEFINITION" href="26_glo_e.htm#empty_list"><i>empty
list</i></a>. A <a rel="DEFINITION" href=
"26_glo_n.htm#non-nil"><i>non-nil</i></a> <a rel="DEFINITION" href=
"26_glo_a.htm#atom"><i>atom</i></a> by itself is not considered to
be a <a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a>
of any kind---not even a <a rel="DEFINITION" href=
"26_glo_d.htm#dotted_list"><i>dotted list</i></a>.</p>
<p>A <a rel="DEFINITION" href=
"26_glo_c.htm#circular_list"><i>circular list</i></a> is a chain of
<a rel="DEFINITION" href="26_glo_c.htm#cons"><i>conses</i></a> that
has no termination because some <a rel="DEFINITION" href=
"26_glo_c.htm#cons"><i>cons</i></a> in the chain is the <a rel=
"DEFINITION" href="26_glo_c.htm#cdr"><i>cdr</i></a> of a later
<a rel="DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a>.</p>
<pre>
<a rel="DEFINITION" href=
"f_append.htm#append">append</a>      <a rel="DEFINITION" href=
"f_last.htm#last">last</a>           <a rel="DEFINITION" href=
"f_butlas.htm#nbutlast">nbutlast</a>  <a rel="DEFINITION" href=
"f_rest.htm#rest">rest</a>       
<a rel="DEFINITION" href=
"f_butlas.htm#butlast">butlast</a>     <a rel="DEFINITION" href=
"f_ldiffc.htm#ldiff">ldiff</a>          <a rel="DEFINITION" href=
"f_nconc.htm#nconc">nconc</a>     <a rel="DEFINITION" href=
"f_revapp.htm#revappend">revappend</a>  
<a rel="DEFINITION" href=
"f_cp_ali.htm#copy-alist">copy-alist</a>  <a rel="DEFINITION" href=
"a_list.htm#list">list</a>           <a rel="DEFINITION" href=
"f_firstc.htm#ninth">ninth</a>     <a rel="DEFINITION" href=
"f_firstc.htm#second">second</a>     
<a rel="DEFINITION" href=
"f_cp_lis.htm#copy-list">copy-list</a>   <a rel="DEFINITION" href=
"f_list_.htm#listST">list*</a>          <a rel="DEFINITION" href=
"f_revapp.htm#nreconc">nreconc</a>   <a rel="DEFINITION" href=
"f_firstc.htm#seventh">seventh</a>    
<a rel="DEFINITION" href=
"f_firstc.htm#eighth">eighth</a>      <a rel="DEFINITION" href=
"f_list_l.htm#list-length">list-length</a>    <a rel="DEFINITION"
href="f_nth.htm#nth">nth</a>       <a rel="DEFINITION" href=
"f_firstc.htm#sixth">sixth</a>      
<a rel="DEFINITION" href="f_endp.htm#endp">endp</a>        <a rel=
"DEFINITION" href=
"f_mk_lis.htm#make-list">make-list</a>      <a rel="DEFINITION"
href="f_nthcdr.htm#nthcdr">nthcdr</a>    <a rel="DEFINITION" href=
"f_ldiffc.htm#tailp">tailp</a>      
<a rel="DEFINITION" href=
"f_firstc.htm#fifth">fifth</a>       <a rel="DEFINITION" href=
"a_member.htm#member">member</a>         <a rel="DEFINITION" href=
"m_pop.htm#pop">pop</a>       <a rel="DEFINITION" href=
"f_firstc.htm#tenth">tenth</a>      
<a rel="DEFINITION" href=
"f_firstc.htm#first">first</a>       <a rel="DEFINITION" href=
"f_mem_m.htm#member-if">member-if</a>      <a rel="DEFINITION"
href="m_push.htm#push">push</a>      <a rel="DEFINITION" href=
"f_firstc.htm#third">third</a>      
<a rel="DEFINITION" href=
"f_firstc.htm#fourth">fourth</a>      <a rel="DEFINITION" href=
"f_mem_m.htm#member-if-not">member-if-not</a>  <a rel="DEFINITION"
href="m_pshnew.htm#pushnew">pushnew</a>              
</pre>
<p><b>Figure 14-3. Some defined names relating to lists.</b></p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.2.1 Lists as Association Lists</h2>
<p>An <a rel="DEFINITION" href=
"26_glo_a.htm#association_list"><i>association list</i></a> is a
<a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a> of
<a rel="DEFINITION" href="26_glo_c.htm#cons"><i>conses</i></a>
representing an association of <a rel="DEFINITION" href=
"26_glo_k.htm#key"><i>keys</i></a> with <a rel="DEFINITION" href=
"26_glo_v.htm#value"><i>values</i></a>, where the <a rel=
"DEFINITION" href="26_glo_c.htm#car"><i>car</i></a> of each <a rel=
"DEFINITION" href="26_glo_c.htm#cons"><i>cons</i></a> is the
<a rel="DEFINITION" href="26_glo_k.htm#key"><i>key</i></a> and the
<a rel="DEFINITION" href="26_glo_c.htm#cdr"><i>cdr</i></a> is the
<a rel="DEFINITION" href="26_glo_v.htm#value"><i>value</i></a>
associated with that <a rel="DEFINITION" href=
"26_glo_k.htm#key"><i>key</i></a>.</p>
<pre>
<a rel="DEFINITION" href="f_acons.htm#acons">acons</a>  <a rel=
"DEFINITION" href="f_assocc.htm#assoc-if">assoc-if</a>      <a rel=
"DEFINITION" href="f_pairli.htm#pairlis">pairlis</a>  <a rel=
"DEFINITION" href="f_rassoc.htm#rassoc-if">rassoc-if</a>      
<a rel="DEFINITION" href="f_assocc.htm#assoc">assoc</a>  <a rel=
"DEFINITION" href=
"f_assocc.htm#assoc-if-not">assoc-if-not</a>  <a rel="DEFINITION"
href="f_rassoc.htm#rassoc">rassoc</a>   <a rel="DEFINITION" href=
"f_rassoc.htm#rassoc-if-not">rassoc-if-not</a>  
</pre>
<p><b>Figure 14-4. Some defined names related to assocation
lists.</b></p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.2.2 Lists as Sets</h2>
<p><a rel="DEFINITION" href="26_glo_l.htm#list"><i>Lists</i></a>
are sometimes viewed as sets by considering their elements
unordered and by assuming there is no duplication of elements.</p>
<pre>
<a rel="DEFINITION" href=
"f_adjoin.htm#adjoin">adjoin</a>         <a rel="DEFINITION" href=
"f_set_di.htm#nset-difference">nset-difference</a>    <a rel=
"DEFINITION" href=
"f_set_di.htm#set-difference">set-difference</a>    <a rel=
"DEFINITION" href="f_unionc.htm#union">union</a>  
<a rel="DEFINITION" href=
"f_isec_.htm#intersection">intersection</a>   <a rel="DEFINITION"
href=
"f_set_ex.htm#nset-exclusive-or">nset-exclusive-or</a>  <a rel="DEFINITION"
href="f_set_ex.htm#set-exclusive-or">set-exclusive-or</a>         
<a rel="DEFINITION" href=
"f_isec_.htm#nintersection">nintersection</a>  <a rel="DEFINITION"
href="f_unionc.htm#nunion">nunion</a>             <a rel=
"DEFINITION" href=
"f_subset.htm#subsetp">subsetp</a>                  
</pre>
<p><b>Figure 14-5. Some defined names related to sets.</b></p>
<!-- Common Lisp HyperSpec (TM), version 7.0 generated by Kent M. Pitman on Mon, 11-Apr-2005 2:31am EDT -->
<h2>14.1.2.3 General Restrictions on Parameters that must be
Lists</h2>
<p>Except as explicitly specified otherwise, any <a rel=
"DEFINITION" href=
"26_glo_s.htm#standardized"><i>standardized</i></a> <a rel=
"DEFINITION" href="26_glo_f.htm#function"><i>function</i></a> that
takes a <a rel="DEFINITION" href=
"26_glo_p.htm#parameter"><i>parameter</i></a> that is required to
be a <a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a>
should be prepared to signal an error of <a rel="DEFINITION" href=
"26_glo_t.htm#type"><i>type</i></a> <a rel="DEFINITION" href=
"e_tp_err.htm#type-error"><b>type-error</b></a> if the <a rel=
"DEFINITION" href="26_glo_v.htm#value"><i>value</i></a> received is
a <a rel="DEFINITION" href="26_glo_d.htm#dotted_list"><i>dotted
list</i></a>.</p>
<p>Except as explicitly specified otherwise, for any <a rel=
"DEFINITION" href=
"26_glo_s.htm#standardized"><i>standardized</i></a> <a rel=
"DEFINITION" href="26_glo_f.htm#function"><i>function</i></a> that
takes a <a rel="DEFINITION" href=
"26_glo_p.htm#parameter"><i>parameter</i></a> that is required to
be a <a rel="DEFINITION" href="26_glo_l.htm#list"><i>list</i></a>,
the consequences are undefined if that <a rel="DEFINITION" href=
"26_glo_l.htm#list"><i>list</i></a> is <a rel="DEFINITION" href=
"26_glo_c.htm#circular"><i>circular</i></a>.</p>
</body>
</html>
