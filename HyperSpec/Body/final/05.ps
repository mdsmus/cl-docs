%!PS
%%Title: CLHS: Chapter 5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="e_smp_tp.htm"> <link rel="UP" href="../Front/Contents.htm"> <link rel="NEXT" href="05_a.htm"> <title>CLHS: Section 5.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_.htm"> <link rel="UP" href="05_.htm"> <link rel="NEXT" href="05_aa.htm"> <title>CLHS: Section 5.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_a.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aaa.htm"> <title>CLHS: Section 5.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaaa.htm"> <title>CLHS: Section 5.1.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaa.htm"> <link rel="UP" href="05_aaa.htm"> <link rel="NEXT" href="05_aab.htm"> <title>CLHS: Section 5.1.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaaa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaba.htm"> <title>CLHS: Section 5.1.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aab.htm"> <link rel="UP" href="05_aab.htm"> <link rel="NEXT" href="05_ab.htm"> <title>CLHS: Section 5.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaba.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aba.htm"> <title>CLHS: Section 5.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_ab.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abb.htm"> <title>CLHS: Section 5.1.2.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aba.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abc.htm"> <title>CLHS: Section 5.1.2.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abb.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abd.htm"> <title>CLHS: Section 5.1.2.4</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abc.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abe.htm"> <title>CLHS: Section 5.1.2.5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abd.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abf.htm"> <title>CLHS: Section 5.1.2.6</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abe.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abg.htm"> <title>CLHS: Section 5.1.2.7</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abf.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abh.htm"> <title>CLHS: Section 5.1.2.8</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abg.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abi.htm"> <title>CLHS: Section 5.1.2.9</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abh.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_ac.htm"> <title>CLHS: Section 5.1.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abi.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_b.htm"> <title>CLHS: Section 5.2
%%Creator: html2ps version 1.0 beta3
%%EndComments
save
2000 dict begin
/d {bind def} bind def
/D {def} d
/t true D
/f false D
/FL [/Times-Roman
/Times-Italic
/Times-Bold
/Times-BoldItalic
/Courier
/Courier-Oblique
/Courier-Bold
/Courier-BoldOblique
/Helvetica
/Helvetica-Oblique
/Helvetica-Bold
/Helvetica-BoldOblique] D
/WF t D
/WI 0 D
/F 1 D
/IW 510 F div D
/IL 714 F div D
/PS 842 D
/EF [0 1 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 2 2] D
/EZ [11 9 19 17 15 13 12 11 11 11 11 11 11 11 11 11 11 11 11 11 11 11 8 8] D
/Ey [0 0 2 2 2 2 2 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0] D
/EG [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1] D
/Tm [1 1 0.8 0.8 0.8 0.8 0.8 0.8 0 0 0 0 0 0 0.5 1 1 1 1 0 0 1.3 0 0] D
/Bm [1 1 0.5 0.5 0.5 0.5 0.5 0.5 0 0 0 0 0 0 0.5 1 1 1 1 0 0 1 0 0] D
/Lm [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 2 2 0 0 2 0 0 0] D
/Rm [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0] D
/EU [-1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 0 0] D
/NO t D
/YY [[{()}1][{()}0][{()}2]] D
/ZZ [[{()}1][{()}0][{()}2]] D
/Ts EZ 0 get D
/TU f D
/Xp t D
/AU f D
/SN 0 D
/Cf f D
/Tp f D
/Fe f D
/TI 1 Ts mul D
/Fm 14 D
/xL 57 D
/xR 57 D
/yL 799 D
/yR 799 D
/Wl 510 F div D
/Wr 510 F div D
/hL 714 F div D
/hR 714 F div D
/FE {newpath Fm neg Fm M CP BB IW Fm add Fm L IW Fm add IL Fm add neg L CP BB
 Fm neg IL Fm add neg L closepath} D
/LA {PM 0 eq{/IW Wl D /IL hL D}{/IW Wr D /IL hR D}ie /W IW D /LL W D /LS W D
 /LE IL D TU PM 0 eq and{IW 56 F div add SA{Sf div}if 0 translate}
 {PM 0 eq{xL yL}{xR yR}ie translate F SA{Sf mul}if dup scale
 CS CF FS Cf{CA CL get VC}if /Bb f D}ie 0 0 M
 TF not Tc or {Cf{gsave SA{1 Sf div dup scale}if Cb VC FE fill grestore}if}if}D
/Pi 0 Ts mul D
/SG [0.8 1 1] D
/Ab 15 D
/J 0 D
/Tc f D
/NH 6 D
/Nf f D
/Pa f D
/LH 1.2 D
/XR f D
/Xr {/pN E D ( [p ) WB pN WB (] )WB} D
/Db [16#FF 16#FF 16#FF] D
/Dt [16#00 16#00 16#00] D
/eA f D
/Fi f D
/bT f D
/Lc t D
/Dl [16#00 16#00 16#00] D
/LX f D
/Br 0.25 D
/IA ([IMAGE]) D
/DS {/PF f D()WB NL NP()pop RC ZF} D
/Gb f D
/Mb t D
/Hc [16#00 16#00 16#00] D
/Bl 3 D
/MI -15.2 D
/DX (DRAFT) D
/Di 0 D
/Tt 113.385826771654 D
/Th {()2 Al()BR (
      ) 0 1 -1 H()4 FZ Ti ES()EH (
      ) 0 2 -1 H() ME 0 get join EH()Ea()BR()} D
/tH {()0 1 -1 H (Table of Contents) EH()} D
/FD 2 D
/Dy 2 D
/cD [16#F0 16#F0 16#F0] D
/FW 0.6 D
/FU [16#00 16#00 16#00] D
/ET {/RM f D /A0 3 D /PN SN D /OU t D /Ou t D /W IW D /LL W D D1
 Ms not TP and{Ip}if /TF f D} D

%-- End of variable part --
/MySymbol 10 dict dup begin
 /FontType 3 D /FontMatrix [.001 0 0 .001 0 0 ] D /FontBBox [25 -10 600 600] D
 /Encoding 256 array D 0 1 255{Encoding exch /.notdef put}for
 Encoding (e) 0 get /euro put
 /Metrics 2 dict D Metrics begin
  /.notdef 0 D
  /euro 651 D
 end
 /BBox 2 dict D BBox begin
  /.notdef [0 0 0 0] D
  /euro [25 -10 600 600] D
 end
 /CharacterDefs 2 dict D CharacterDefs begin
  /.notdef {} D
  /euro{newpath 114 600 moveto 631 600 lineto 464 200 lineto 573 200 lineto
   573 0 lineto -94 0 lineto 31 300 lineto -10 300 lineto closepath clip
   50 setlinewidth newpath 656 300 moveto 381 300 275 0 360 arc stroke
   -19 350 moveto 600 0 rlineto -19 250 moveto 600 0 rlineto stroke}d
 end
 /BuildChar{0 begin
  /char E D /fontdict E D /charname fontdict /Encoding get char get D
  fontdict begin
   Metrics charname get 0 BBox charname get aload pop setcachedevice
   CharacterDefs charname get exec
  end
 end}D
 /BuildChar load 0 3 dict put /UniqueID 1 D
end
definefont pop

/Cd {aload length 2 idiv dup dict begin {D} repeat currentdict end} D
/EX {EC cvx exec} D
/DU {} d
/BB {pop pop}d
/ie {ifelse} d
/E {exch} d
/M {moveto} d
/R {rmoveto} d
/L {lineto} d
/RL {rlineto} d
/CP {currentpoint} d
/SW {stringwidth} d
/GI {getinterval} d
/PI {putinterval} d
/Sg {setgray} d
/LW {setlinewidth} d
/S {dup () ne OU and{0 Co R AT 3 eq LB and HF not and A1 0 ne A2 0 ne or and
 {A2 0 32 A1 0 6 -1 roll awidthshow}{show}ie 0 Co neg R}{pop}ie
 OU PH 3 eq or{/Ms t D}if} D
/U {OU{gsave CP currentfont /FontInfo get /UnderlinePosition get
 0 E currentfont /FontMatrix get dtransform E pop add newpath M dup SW pop
 CJ 0 RL stroke grestore}if} D
/B {OU Br 0 gt and{CP Ts neg Ts .33 mul R gsave 0 Sg
 CP newpath Ts Br mul 0 360 arc closepath UI 2 mod 0 eq{stroke}{fill}ie
 grestore M CP E Ts Br 1 add mul sub E BB /Ms t D}if}D
/NP {Ms TP not or PA and OU and{TP{OR}if f1{mF k2 /mF E D /YC 0 D}if
 TP TU not PM 0 eq or and{showpage}if DU Ip TE not{LA}if 0.6 LW
 /CI 0 D /TP t D /Hs f D /hl 6 D /Hv 6 D /HI hi D /Ms f D}if Bs XO BO M} D
/Np {LE sub CP E pop gt PL 0 eq and{NP}if}D
/Ip {/PN PN 1 add D /Pn RM{1}{4}ie PN Ns D /PM PN SN sub 2 mod D} D
/GP {E dup 3 -1 roll get PN 1 add 2 mod get dup type /integertype eq
 {get 0 get}{E pop}ie}d
/Fc {dup 2 GP exec SW pop /S1 E D dup 1 GP exec SW pop /S2 E D 0 GP exec SW
 pop /S3 E D S1 0 gt{S2 2 mul S1 add S3 2 mul S1 add 2 copy lt{E}if pop}{0}ie
 S2 S3 add 2 copy lt{E}if pop IW .9 mul div dup 1 gt{1 E div}{pop 1}ie}D
/OR {Df{Sd}if tp not{gsave SA{1 Sf div dup scale}if Fe{Cf{FU VC}if FW LW
 1 setlinejoin FE stroke}if /YO {60 F div dup 40 gt{pop 40}if}D /cs CS D
 /cf CF D /CF 0 D /pf PF D /PF f D /Fn FN D /At AT D /AT 0 D /FN EF Hf 1 add
 get D Fz Fs FS ZZ Fc Fz mul Fs FS EU Hf 1 add get dup type /arraytype eq
 Cf and{VC}{pop 0 Sg}ie IW IL neg YO sub M ZZ 1 GP exec dup SW pop neg 0 R Sh
 0 IL neg YO sub M ZZ 0 GP exec Sh ZZ 2 GP exec dup SW pop IW E sub 2 div
 IL neg YO sub M Sh Fz Fs FS NO{/AW IW Pn SW pop sub D AW 2 div IL neg YO sub
 S1 0 gt S2 AW .45 mul gt or S3 AW .45 mul gt or{Fz 2 mul sub}if M Pn Sh}if
 EU Hf get dup type /arraytype eq Cf and{VC}{pop 0 Sg}ie YY Fc /FN EF Hf get D
 Hz mul HS FS IW YO M YY 1 GP exec dup SW pop neg 0 R Sh 0 YO M YY 0 GP exec Sh
 YY 2 GP exec dup SW pop IW E sub 2 div YO M Sh /FN Fn D /AT At D t Pb XO SZ
 SL get neg R /PF pf D grestore /CF 0 D cs cf FS}if}D
/Sh {dup () ne{CP Hz 4 div sub BB show CP CS add BB}{pop}ie}D
/Pb {/OU E D /Ou OU D /PB t D 0 0 M Ba{/Sa save D /BP t D /Fl t D RC /PL 0 D
 /PH 0 D /W IW D /LE IL .7 mul D /EO 0 D SI ZF /YA 0 D /BO 0 D /C1 () D
 BA 0 Ts neg R Bb{Xl Yl Xh Yh}if Bb CP Sa restore M
 {/Yh E D /Xh E D /Yl E D /Xl E D}if /Fl t D}if
 BL /OU t D /HM f D /Ou t D /PB f D} D
/Bs {/BP Ba not D}D
/reencodeISO {
 dup dup findfont dup length dict begin{1 index /FID ne{D}{pop pop}ie}forall
 /Encoding ISOLatin1Encoding D currentdict end definefont} D
/ISOLatin1Encoding [
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/space/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright
/parenleft/parenright/asterisk/plus/comma/hyphen/period/slash
/zero/one/two/three/four/five/six/seven/eight/nine/colon/semicolon
/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N
/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright
/asciicircum/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m
/n/o/p/q/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/asciitilde
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/space/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guillemotleft/logicalnot
/hyphen/registered/macron/degree/plusminus/twosuperior/threesuperior
/acute/mu/paragraph/periodcentered/cedilla/onesuperior/ordmasculine
/guillemotright/onequarter/onehalf/threequarters/questiondown
/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE/Ccedilla
/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute
/Thorn/germandbls/agrave/aacute/acircumflex/atilde/adieresis
/aring/ae/ccedilla/egrave/eacute/ecircumflex/edieresis/igrave
/iacute/icircumflex/idieresis/eth/ntilde/ograve/oacute/ocircumflex
/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex/udieresis
/yacute/thorn/ydieresis
] D
[128/backslash 129/parenleft 130/parenright 141/circumflex 142/tilde
143/perthousand 144/dagger 145/daggerdbl 146/Ydieresis 147/scaron 148/Scaron
149/oe 150/OE 151/guilsinglleft 152/guilsinglright 153/quotesinglbase
154/quotedblbase 155/quotedblleft 156/quotedblright 157/endash 158/emdash
159/trademark]
aload length 2 idiv 1 1 3 -1 roll{pop ISOLatin1Encoding 3 1 roll put}for
/colorimage where{pop}{
 /colorimage {
  pop pop /Pr E D {/Cv Pr D /Gr Cv length 3 idiv string D 0 1 Gr length 1 sub
   {Gr E dup /i E 3 mul D Cv i get 0.299 mul Cv i 1 add get 0.587 mul add
    Cv i 2 add get 0.114 mul add cvi put}for Gr} image} D
}ie
/pdfmark where{pop}{userdict /pdfmark /cleartomark load put}ie
WF{FL{reencodeISO D}forall}{4 1 FL length 1 sub{FL E get reencodeISO D}for}ie
/Symbol dup dup findfont dup length dict begin
 {1 index /FID ne{D}{pop pop}ie}forall /Encoding [Encoding aload pop]
 dup 128 /therefore put D currentdict end definefont D

/SF {/CS E D SZ SL CS put FO SL FN put /YI CS LH neg mul D dup ST cvs ( ) join
 CS ST cvs join C1 E join ( NF ) join /C1 E D CS NF /Wf WF FN 0 gt or D
 /BW Wf{( ) SW pop}{0}ie D}D
/NF {/cS E D /cF E D cF 0 ge{FL cF get}{cF -1 eq{/Symbol}{/MySymbol}ie}ie
 findfont cS scalefont setfont} D
/FS {CF or /CF E D FR SL CF put CF CF 0 ge{FN 4 mul add}if E SF} D
/PC {SH /BP f D fin not GL not and{NL}if /HM t D /LL LS D} D
/BS {/TX E D Wf{/fin f D /CW 0 D /LK 0 D /SC 0 D
 /RT TX D {RT ( ) search{/NW E D pop /RT E D /WH NW SW pop D CW WH add LL gt
 {TX SC LK SC sub 1 sub NN GI GL{SH cF cS OC
 2 copy cS ne E cF ne or{NF}{pop pop}ie}{PC /CW WH BW add D}ie
 /SC LK D}
 {GL{JC}if
 /CW CW WH add BW add D /HM t D}ie /GL f D /Ph f D
 /LK LK NW length 1 add add D}{pop exit}ie}loop
 /fin t D TX SC LK SC sub GI SH RT () ne{GL not{CC}if}if
 /LC TX length D /WH RT SW pop D CW WH add Hy{HC SW pop add}if LL gt
 {RT GL{SH cF cS OC 2 copy cS ne E cF ne or{NF}{pop pop}ie
 Hy{/Ph t D}if /LL LS D}{NL /LL LS D SH}ie}
 {RT PC Hy{CC}if /Ph Ph Hy or D}ie RT () ne{/GL t D /HM t D}if}
 {TX SW pop LL le{TX SH}{/NW () D 0 2 TX length 1 sub
 {/CW E D TX 0 CW GI dup SW pop LL gt{pop NW SH /HM t D NL/LL W XO sub MR sub D
 /CW CW 2 sub NN D /TX TX CW TX length CW sub GI D TX BS exit}
 {/NW E D}ie}for}ie}ie /HM t D}D
/CC {C0 length 0 gt{JC}if /C0 [C1 L1 YA YB Mf NS NB TB AF Bw] D
 /C1 () D /L0 L1 D /YA 0 D /YB 0 D /Mf 0 D /NS 0 D /NB 0 D}D
/JC {C0 aload length 0 gt{pop pop pop NB add /NB E D NS add /NS E D
 dup Mf gt{/Mf E D}{pop}ie dup YB gt{/YB E D}{pop}ie
 dup YA gt{/YA E D}{pop}ie pop C1 join /C1 E D /C0 [] D}if}D
/OC {C0 length 0 gt{C1 L1 L0 sub YA YB Mf NS NB TB AF Bw GL C0 aload pop
 /Bw E D /AF E D /TB E D /NB E D /NS E D /Mf E D /YB E D /YA E D /C0 [] D
 /L1 E D /C1 E D Ph{HC SH}if NL /GL E D /Bw E D /AF E D /TB E D /NB E D /NS E D
 /Mf E D /YB E D /YA E D /L1 E D /LL W L1 sub XO sub MR sub WH sub D /CW 0 D
 C1 E join /C1 E D}if}D
/BT {/LB t D dup length string copy RS dup dup () ne E ( ) ne and
 {/CI 0 D /LS LL D /LL W L1 sub XO sub MR sub D BS}
 {dup ( ) eq{/GL f D}if dup () eq L1 0 eq or{pop}{SH /BP f D /Ph f D}ie}ie
 /LB f D} D
/BL {CP E pop XO E M} D
/NL {JC /GL f D /SK W XO sub MR sub L1 sub TB{Bw add}if D
 /YA LF{Mf HM Fl not and PF or{LH mul}if}{0 /LF t D}ie YA 2 copy lt{E}if pop D
 C1 () ne{/FB YB Mf SA{Sf mul}if 4 div 2 copy lt{E}if pop D}if Fl{/Ya YA D}if
 CP E pop YA sub YB sub LE neg lt Fl not and PB not and{NP}if NT TL BL
 OU PF not and PB or{/RE L1 TB{Bw sub}if
 W XO sub MR sub div YA YB add LE BO add div 2 copy lt{E}if pop D
 RE 1 gt{BL 1 RE div dup scale}if}if
 AT 2 le{SK AT mul 2 div YA neg R}if
 AT 3 eq{0 YA neg R TB{/NB NB 1 sub D /NS NS 1 sub D}if /NB NB 1 sub NN D
 /A3 NS 6 mul NB add D NS NB add 0 eq
  {/A1 0 D /A2 0 D}
  {NS 0 eq{/A1 SK NB div dup J gt{pop 0}if D /A2 0 D}{J A3 mul SK lt
   {/A1 J D /A2 SK J NB mul sub NS div dup Ab gt{/A1 0 D pop 0}if D}
   {/A1 SK A3 div D /A2 A1 6 mul D}ie}ie}ie /A1 A1 NN D /A2 A2 NN D}if
 AT 4 eq{0 YA neg R PH 2 le{PD 0 lt{/PD L1 D}if PD M1 gt{/M1 PD D}if
 L1 PD sub M2 gt{/M2 L1 PD sub D}if}{DV ID 1 sub get 0 ge{Lo 0 R}if}ie}if
 F0 cF ne Cs cS ne or{F0 Cs NF}if
 /ms Ms D /Ms f D CP FB sub
 C1 cvx exec XO EO sub L1 add TB{BW sub}if dup LM gt{/LM E D}{pop}ie
 PH 0 eq PH 4 eq or Ms and{HF not{/PO t D /AH t D}if
 BB CP YA add E AT 3 eq LB and{A1 sub}if TB{BW sub}if E BB}
 {pop pop}ie Ms HM PH 3 eq and or{/BP f D /Fl f D}if
 /Lo 0 D /L1 0 D /F0 cF D /Cs cS D BP not{0 YB NN neg R}if
 OU f1 and mF not and{k2 /f1 f D}if
 OU PF not and PB or{RE 1 gt{RE dup scale}if}if /Ms ms Ms or D
 /C1 AF{(Cp )}{()}ie D /YA 0 D /YB 0 D BL
 AT 4 eq LB not and PH 3 ge and
 {ID DV length lt{DV ID get dup 0 ge{DO E sub /Lo E D /L1 Lo D}{pop}ie
 /ID ID 1 add D}if}if /T t D CD{/LN LN 1 add D PD}if
 /PD -1 D /NS 0 D /NB 0 D /TB f D /Ph f D /Mf 0 D /HM f D} D
/RS {/TM E D /CN 0 D TM{10 eq{TM CN ( ) PI}if /CN CN 1 add D}forall
 /CN 0 D /BK HM EN and{0}{1}ie D TM
 {dup 32 ne{TM CN 3 2 roll put /CN CN 1 add D /BK 0 D}
 {pop BK 0 eq{TM CN 32 put /CN CN 1 add D}if /BK 1 D}ie}forall
 TM 0 CN GI dup dup () ne E ( ) ne and
 {dup CN 1 sub get 32 eq{/EN f D}{/EN t D}ie}if} D
/join {2 copy length E length add string dup 4 2 roll 2 index 0 3 index
 PI E length E PI}d
/WR {(\n) search{dup () ne BP not or
 {Li 4 le CP E pop YI Li mul add LE add 0 lt and PL 0 eq and{NP}if
 SH NL pop /Li Li 1 sub D WR}{pop pop WR}ie}{SH}ie /CI 0 D /BP f D} D
/SH {dup dup () ne E ( ) ne and PF or CS Mf gt and{/Mf CS D}if
 T not Wf and{( ) E join /T t D}if dup BP{/MF CS D}if
 AT 3 eq{2 copy length dup 0 gt{/NB E NB add D
 {( ) search{/NS NS 1 add D pop pop}{pop exit}ie}loop}{pop pop}ie}if
 CD PD 0 lt and{dup DC search{SW pop /PD E L1 add D pop pop}{pop}ie}if
 0 Np dup SW pop L1 add /L1 E D dup () ne
 {C1 (\() join E join (\)) join AU AF and UF or Wf and{( U ) join}if
 sF{( s ) join}if ( S ) join
 /C1 E D dup length 1 sub get 32 eq /TB E D /Bw BW D}{pop pop}ie} D
/BG {AI LG BC add add 0 eq} D
/ON {OU{Ty AR AI NN get dup 1 add Ln Ns Ty 2 mod 0 eq{(.  )}{(\)  )}ie join
 dup SW pop neg 0 R CP E 0 lt{0 E M}{pop}ie CP BB show /Ms t D}if} D
/Ln {AR AI 3 -1 roll put}D
/SP {dup CI lt BP not and{dup CI sub 0 E R /CI E D}{pop}ie} D
/BN {PF{WR /HM f D}{BT NL}ie} D
/NN {dup 0 lt{pop 0}if} D
/h {(h) HI ST cvs join cvx exec dup 1 get E Nf{0 get E join}{pop}ie} D
/H {/fn FN D /Hi E 1 add D 1 sub /HL E D /H2 HL 2 add D /GS EZ H2 get D
 E Tm H2 get GS mul BE dup 0 gt{1 sub}{pop EG H2 get dup 0 lt{pop AT}if}ie NA
 WW Np /SL SL 1 add D /FN EF H2 get D GS Ey H2 get FS
 EU H2 get Sc Hs not HL Hl lt and Hs HL hl lt and or Hi 0 eq or
 {/HI Hi D /Hs t D /hl HL D /Hv HL D}if HL Hl lt{/hi Hi D}if
 Nf HI 0 gt and{(h) Hi ST cvs join cvx exec 0 get WB}if
 /HF t D /AH f D /PO f D} D
/EH {Bm H2 get GS mul BE OA /SL SL 1 sub NN D /CF 0 D /FN fn D
 SZ SL get FR SL get FS /HF f D /GS Ts D ()Ec} D
/P {E PF{WR}{PO{EP}{BN}ie Ts 4 mul Np AE not{Tm 0 get Ts mul neg SP}if
 dup 0 ge AH and{Pi Pd}if}ie 1 sub dup 0 lt{pop AV AL get}if /AT E D /PO t D} D
/EP {PF{WR}{BN Ts 4 mul Np}ie AE not{Bm 0 get Ts mul neg SP}if
 /AT AV AL get D /PO f D} D
/BE {E PO{EP}{BN}ie Ts 4 mul Np neg SP} D
/HR {/Aw W EO sub D /RW E dup 0 gt{Aw mul}{neg}ie dup Aw gt{pop Aw}if D /RZ E D
 E BN Ts neg SP 1 sub 2 div Aw RW sub mul EO add CP E pop M PF{0 Ps neg R}if
 0 Np OU{gsave RZ LW Cf{Hc VC}{0 Sg}ie CP BB RW 0 RL CP BB stroke grestore}if
 /CI 0 D /BP f D PF not{Ts neg SP}if /Ms t D} D
/AD {I NL EG 14 get dup 0 lt{pop AT}if NA /AE t D Tm 14 get Ts mul neg SP
 Cf{EU 14 get dup -1 eq{pop CA CL get}if Sc}if} D
/DA {BN ()ES OA /AE f D ()Ec Bm 14 get Ts mul neg SP} D
/PR {/MW E D /Li E D Tm 1 get Ps mul BE 0 NA /FN Fp D /PF t D SI /SL SL 1 add D
 /CF 0 D Ps CS mul Ts div MW WC mul CS mul Ts div dup LL gt PL 0 eq and
 {LL div div}{pop}ie Ey 1 get FS CP E pop LE add YI neg div cvi dup Li lt
 AH and{4 lt YI Li mul 5 mul LE add 0 gt or PL 0 eq and{NP}if}{pop}ie
 EU 1 get Sc /GS Ps D}D
/RP {WR NL () /PF f D SI /FN 0 D ES Bm 1 get Ps mul neg SP OA /GS Ts D} D
/SI {/XO Lm 15 get BC NN mul Lm 16 get AI UI sub NN mul add
 Lm 17 get UI NN mul add Lm 20 get LG NN mul add Ts mul
 PF{Lm 1 get Ps mul add}if EO add D
 /MR Rm 15 get BC NN mul Rm 16 get AI UI sub NN mul add
 Rm 17 get UI NN mul add Rm 20 get LG NN mul add Ts mul
 PF{Rm 1 get Ps mul add}if D /LL W XO sub MR sub D} D
/DT {/cC E D BN /LG LG 1 sub D SI /LG LG 1 add D WW 2 div Np BL} D
/DD {WB Cc 0 eq cC 0 eq and L1 0 eq or Lm 20 get Ts mul L1 sub TB{BW add}if
 Ts 2 div lt or NL /LF E D SI BL /cC 0 D} D
/DL {Dc LG Cc put /Cc E D BG{Tm 18 get Ts mul BE}{BN}ie /LG LG 1 add D BL} D
/LD {BN LG 0 gt{/LG LG 1 sub D}if /Cc Dc LG get D SI
 BG{()Bm 18 get Ts mul BE}if BL} D
/UL {BG{Tm 17 get Ts mul BE}{BN}ie NR AI NN 0 put /UI UI 1 add D
 /AI AI 1 add D SI BL} D
/LU {BN /UI UI 1 sub D /AI AI 1 sub D SI BG{()Bm 17 get Ts mul BE}if BL} D
/OL {E BG{Tm 16 get Ts mul BE}{BN}ie TR AI NN Ty put /Ty E D NR AI NN 1 put
 /AI AI 1 add D SI BL 1 Ln} D
/LO {BN /AI AI 1 sub D /Ty TR AI get D SI BG{()Bm 16 get Ts mul BE}if BL} D
/LI {E BN -1 SP /BP f D /CI 0 D 0 Np NR AI 1 sub NN get 1 eq
 {dup dup 0 gt E 4 le and{/Ty E D}{pop}ie
 /L1 L1 Ty AR AI NN get Ns SW pop XO sub dup 0 lt{pop 0}if add D ( ON )}
 {pop ( B )}ie C1 E join /C1 E D CS Mf gt{/Mf CS D}if BL} D
/BQ {Tm 15 get Ts mul BE /BC BC 1 add D SI BL} D
/QB {Bm 15 get Ts mul BE /BC BC 1 sub D SI BL} D
/Al {E EP 1 sub dup 0 lt{pop AV AL get}if NA} D
/Ea {EP OA} D
/WB {PF{WR}{BT}ie} D
/F1 {WB /FN 0 D CS 0 FS} D
/F2 {WB /FN WI D CS 0 FS} D
/HY {/Hy t D WB /Hy f D} D
/YH {WB} D
/A {/LT E D LT 1 eq{/RN E D}if /Lh E D WB /C1 C1 ( Cp ) join D
 Lc AF not and{Cl Sc}if /AF t D} D
/EA {Lc AF and{Ec}{WB}ie TL Pa AF and Lh 0 ne and
 {( \() Lh join (\)) join /AF f D WB}if /AF f D} D
/TL {C1 ( Tl ) apa /C1 E D} d
/apa {AF OU and Lh 0 ne LT 1 eq or and{LT 1 eq{RN ( /) E ST cvs join}
 {(\() Lh join (\)) join}ie E join join}{pop}ie} d
/Cp {/Xc CP /Yc E D D} D
/SS {Cf{dup 0 ge{EU E get dup -1 eq{pop CA CL get}if}{pop CA CL get}ie Sc}
 {pop}ie SZ SL get /SL SL 1 add D} D
/I {WB 8 SS 1 FS} D
/EM {WB 8 SS /CF CF 1 xor D 0 FS} D
/BD {WB 9 SS 2 FS} D
/TT {WB 10 SS /FN Fp D 0 FS} D
/KB {WB 11 SS /FN Fp D 2 FS} D
/CT {WB 12 SS 1 FS} D
/SM {WB 13 SS /FN Fp D 0 FS} D
/Q {/QL QL 1 add D QO QL 2 mod get La get join WB} D
/EQ {QC QL 2 mod get La get join WB /QL QL 1 sub D} D
/RO {WB -1 SS /CF 0 D 0 FS} D
/SY {WB -1 SS -1 FS} D
/MY {WB -1 SS -2 FS} D
/ES {WB /SL SL 1 sub NN D /CF 0 D /FN FO SL get D SZ SL get FR SL get FS ()Ec}D
/FZ {3 sub 1.2 E exp GS mul E WB TL /C1 C1 ( Cp ) join D /SL SL 1 add D 0 FS} D
/Ef {WB TL ()ES /C1 C1 ( Cp ) join D} D
/BZ {dup /Bf E D FZ}D
/Sc {dup -1 ne Cf and{/CL CL 1 add D dup 0 eq{pop [0 0 0]}if
 dup CA E CL E put VS ( VC ) join C1 E join /C1 E D}{pop}ie} D
/Ec {WB Cf{/CL CL 1 sub NN D CA CL get VS ( VC ) join C1 E join /C1 E D}if} D
/VS {dup type /arraytype eq{([) E {ST cvs join ( ) join}forall (]) join}if} D
/VC {{255 div}forall setrgbcolor} D
/Sl {dup type /integertype ne{Ds}if /La E D WB}d
/UN {WB /UF t D} D
/NU {WB /UF f D} D
/SE {WB /sF t D} D
/XE {WB /sF f D} D
/sM {/C1 C1 ( k1 ) join D}d
/eM {/C1 C1 ( k2 ) join D}d
/k1 {/YC CP E pop Ts add D /mF t D /f1 t D}d
/k2 {gsave 3 LW -9 CP E pop Ts 0.2 mul sub M -9 YC L stroke grestore /mF f D}d
/Ac {/AC E D WB}d
/Ca {eA{( \()join AC join(\) )join}if WB}d
/s {OU{gsave 0 CS .25 mul R dup SW pop CJ 0 RL stroke grestore}if}D
/CJ {AT 3 eq LB and{E dup dup length 1 sub A1 mul E
 {( ) search{pop pop E A2 add E}{pop exit}ie}loop 3 -1 roll add
 W CP pop sub 2 copy gt{E}if pop}if}D
/So {/Co E D} D
/SO {C1 Yo ST cvs join ( So ) join /C1 E D (j) SW pop 2 div Pd} D
/Se {E WB CS E div Pd}D
/Pd {dup type /stringtype eq{SW pop}if dup /L1 E L1 add D
 ST cvs ( 0 R ) join C1 E join /C1 E D} D
/Sp {0.35 CO} D
/Sb {-0.2 CO} D
/CO {OV Io Yo put /Yo E CS mul Yo add D /Io Io 1 add D -1.5 Io mul 3 add FZ SO
 CS Yo add dup YA gt{/YA E D}{pop}ie
 Yo neg dup YB gt{/YB E D}{pop}ie} D
/Es {ES /Io Io 1 sub NN D /Yo OV Io get D SO} D
/SB {/N2 0 D 0 1 NI{/N E D{IX N2 get 0 lt{/N2 N2 1 add D}{exit}ie}loop
 /K WS N get FC N get mul D /NY AY N2 get D /BV NY array D
 0 1 NY 1 sub{/TM K string D currentfile TM readhexstring pop pop BV E TM put}
 for BM N BV put /N2 N2 1 add D}for} D
/IC [{/MA E D /MB 0 D}{2 div /MA E D /MB MA D}{/MB E CS sub D /MA CS D}
 {pop /MA YS AB mul D /MB 1 AB sub YS mul D}{pop /MA 0 D /MB 0 D}] D
/IP {BV N get /N N 1 add D} D
/II {/K E D IX K get 0 lt{/EC E D}if /TY E D
 TY 4 eq{/Y E D /X E D}if TY 3 eq{/AB E D}if
 /XW AX K get D /YW AY K get D /IS SG IT K get get D /XS XW IS mul D
 /YS YW IS mul D YS IC TY get exec /MA MA Fl not{3 add}if D} D
/IM {II /ty TY D /xs XS D /ys YS D /ya YA D /yb YB D /ma MA D /mb MB D /k K D
 /ec EC D /BP f D /CI 0 D WB TL L1 xs add dup XO add MR add W gt
 {pop /ma ma Fl{3 add}if D NL /YA ma D /YB mb D /YS ys D /L1 xs D}
 {/L1 E D ma YA gt{/YA ma D}if mb YB gt{/YB mb D}if}ie /TB f D
 OU{CP E pop YS sub LE neg lt Fl not and PB not and{NP /YA ma D /YB mb D}if
 /BP f D ty ST cvs ( ) join IX k get 0 lt{(\() join ec join (\) ) join}if
 k ST cvs join ty 3 eq{AB ST cvs ( ) join E join}if
 ty 4 eq{X ST cvs ( ) join Y ST cvs join ( ) join E join}if C1 E join
 ( DI ) join FP 2 eq FP 1 eq AF and or{( FM ) join}if
 ( Il Cp ) apa /C1 E D /EN f D}if /HM t D /T f D} D
/DI {II /Xc CP /Yc E D D /YN YW neg D /HM t D /CI 0 D /K2 IX K get D gsave
 TY 4 eq{OX X IS mul add OY FY add YS sub Y IS mul sub}
 {/FY YS D CP MB sub 2 copy /OY E D /OX E D}ie
 translate K2 0 ge{/DP AZ K2 get D /BV BM K2 get D XS YS scale /N 0 D XW YW DP
 [XW 0 0 YN 0 YW] {IP} FC K2 get 1 eq{image}{f 3 colorimage}ie}
 {EX}ie grestore XS 0 R /Ms t D} D
/FM {gsave 0 Sg CP MB sub translate XS neg 0 M 0 YS RL XS 0 RL 0 YS neg RL
 XS neg 0 RL stroke grestore} D
/NA {/AT E D /AL AL 1 add D AV AL AT put} D
/OA {AL 0 gt{/AL AL 1 sub D /AT AV AL get D}if} D
/D1 {/BR {CP E pop E BN Mb{CP E pop eq{0 YI R}if}{pop}ie} D
 /Sn {OU{C1 E ST cvs join ( Ld ) join /C1 E D}{pop}ie} D} D
/D1 {/BR {BN} D /Sn {OU {C1 E ST cvs join ( Ld ) join /C1 E D} {pop} ie} D} D
/TC {/TF t D /ML 0 D HN{SW pop dup ML gt{/ML E D}{pop}ie}forall NP /RM RM not D
 RC /OU Tc D Ep /PN 0 D Ms not TP and{Ip}if /W IW ML sub Ts sub D
 /A0 0 D TH{/BR {( ) join BT} D /Sn {pop} D /Au () D}if} D
/TN {0 eq{E EA PF HF or not XR and{HN E get Xr}{pop}ie}
 {OU{Tn 0 ge{() BN}if /Tn E D}{pop}ie WB}ie} D
/NT {OU LB not and Tn 0 ge and{PL 0 eq{Ms not{CS CF FS}if CP dup
 /y E YA sub D W 9 sub CS -1.8 mul XO L1 add 2 add{y M (.) show}for
 HN Tn get dup SW pop IW E sub y M show CP BB M}if /Tn -1 D}if} D
/Ld {/DN E D HN DN Pn put [/View [/XYZ -4 Fl{PS}{CP YA add US E pop}ie null]
 /Dest DN ST cvs cvn /DEST pdfmark} D
/C {ND 1 eq{1 sub}if TI mul /XO E D NL Nf not{pop()}if 0 3 -1 roll 1 A} D
/OP {BP not{NP}if PN 2 mod 0 eq{NP}if}D
/Ep {Xp PN 2 mod 0 eq and OU and{/Pn (-) D showpage /PM 1 D LA}if}D
/Dg [73 86 88 76 67 68 77] D
/Rd [0 [1 1 0][2 1 0][3 1 0][2 1 1][1 1 1][2 2 1][3 3 1][4 4 1][2 1 2]] D
/Ns {/m E D /c E 32 mul D /j m 1000 idiv D /p j 12 add string D
 c 96 le m 0 gt and{c 32 le {/i 0 D /d 77 D /l 100 D /m m j 1000 mul sub D
  j -1 1 {pop p i d c add put /i i 1 add D}for
  4 -2 0 {/j E D /n m l idiv D /m m n l mul sub D /d Dg j get D
   n 0 gt {/x Rd n get D x 0 get -1 1 {pop p i d c add put /i i 1 add D}for
   p i x 1 get sub Dg x 2 get j add get c add put}if /l l 10 idiv D
  }for p 0 i GI}
  {/i ST length 1 sub D m {1 sub dup 0 ge{dup 26 mod c add 1 add
   ST i 3 -1 roll put 26 idiv dup 0 eq{pop exit}if}if /i i 1 sub D}loop
   ST i ST length i sub GI}ie}
 {m p cvs}ie} D
/US {matrix currentmatrix matrix defaultmatrix matrix invertmatrix
 matrix concatmatrix transform} D
/GB {Gb{US}if}D
/Tl {/Rn E D Xc CP pop ne{
 [/Rect [Xc 1 sub Yc cS 0.25 mul sub GB CP E 1 add E cS 0.85 mul add GB]
  /Subtype /Link /Border [0 0 Cf Lc and LX and AU or{0}{1}ie] Rn type
  /nametype eq {/Dest Rn}{/Action [/Subtype /URI /URI Rn] Cd}ie
  /ANN pdfmark}if} D
/Il {/Rn E D [/Rect [Xc Yc GB Xc XS add Yc YS add GB] /Subtype /Link
 /Border [0 0 0] Rn type /nametype eq{/Dest Rn}
 {/Action [/Subtype /URI /URI Rn] Cd}ie /ANN pdfmark} D
/XP {[{/Z Bz 2 div D Z 0 R Z Z RL Z neg Z RL Z neg Z neg RL Z Z neg RL
 Fi cH 1 eq and{fill}if} {Bz 0 RL 0 Bz RL Bz neg 0 RL 0 Bz neg RL
 Fi cH 1 eq and{fill}if} {0 -5 R Bz 0 RL 0 21 RL Bz neg 0 RL 0 -21 RL}]} D
/MS {/Sm E D WB}D
/O {BN()Sm BX} D
/BX {/Bt E D Bt 2 lt{/Ch E D CS 0.8 mul}{11 mul}ie W XO sub MR sub
 2 copy gt{E}if pop /HZ E D Bt 2 eq{Fi not{pop()}if ( )E join /Ft E D TT
 /PF t D /MW 1 D /Li 1 D /Fw Ft SW pop D Fw HZ gt{/HZ Fw 8 add D}if
 HZ ST cvs( )join}{WB Ch ST cvs( )join}ie L1 HZ add XO add MR add W gt{NL}if
 Bt 2 eq{Ft ES Fw neg HM{CS sub}if Pd}if Bt ST cvs join( Bx )join
 Bt 2 eq HM and{CS Pd}if C1 E join /C1 E D /L1 L1 HZ add D /T f D
 ( ) Pd /PF f D Bt 2 lt{YA CS .8 mul lt{/YA CS .8 mul D}if}
 {YB 5 lt{/YB 5 D}if YA 21 lt{/YA 21 D}if}ie /CI 0 D} D
/Bx {dup 2 eq{E /Bz E D}{E /cH E D /Bz CS .8 mul D}ie
 OU {gsave 0 Sg XP E get exec stroke grestore}{pop}ie Bz 0 R /Ms t D}D
/SD {FD 4 mul Dy add DZ NF newpath 0 0 M DX t charpath pathbbox
 3 -1 roll sub /DY E D E dup /X1 E D sub WM mul WX DY mul add WM DG mul E div
 /DF E D /DR WX DF mul DY mul WM div 2 div D} d
/Sd {gsave 0 IL Di mul neg translate IL IW atan Di 0 eq{neg}if rotate
 FD 4 mul Dy add DZ NF DR X1 sub DY 2 div neg M cD VC DX show grestore} d
/Pt {/tp t D Tp{NP /Pn (TP) D 0 Tt neg R Th BN NP Ep ET RC ZF}if /tp f D} D
/RC {/AI 0 D /LG 0 D /BC 0 D /UI 0 D /PF f D /Cc 0 D /cC 0 D /Dc 10 array D
 /NR [0 1 9{pop 0}for] D /La Ds D /AR 10 array D /TR 10 array D /AV 30 array D
 SI /AL -1 D /AT A0 D AT NA /OV 9 array D /Yo 0 D /Co 0 D /Io 0 D /Hy f D
 /Ph f D /CL -1 D Ct Sc}D
/ZF {/FR [0 1 30{pop 0}for] D /SZ [0 1 30{pop 0}for] D /FO [0 1 30{pop 0}for] D
 /SL 0 D /CF 0 D /FN 0 D 0 Ts SF}D
/QO [[(\234)(\233)(\253\240)(\232)(\273)(\253)][(')(`)(\253\240)(\231)(\273)(\253)]] D
/QC [[(\234)(\234)(\240\273)(\233)(\253)(\273)][(')(')(\240\273)(`)(\253)(\273)]] D
/Hf EF length 2 sub D
/Hz EZ Hf get D
/HS Ey Hf get D
/Fz EZ Hf 1 add get D
/Fs Ey Hf 1 add get D
/LE IL D
/Ps EZ 1 get D
/Fp EF 1 get D
/XO 0 D
/YI 0 D
/CI 0 D
/FP 0 D
/WW Ts 7 mul D
/Mf 0 D
/YA 0 D
/YB 0 D
/Cs Ts D
/GS Ts D
/F0 0 D
/NS 0 D
/NB 0 D
/N 0 D
/C0 [] D
/C1 () D
/Lo 0 D
/L1 0 D
/LM 0 D
/PH 0 D
/EC 0 D
/Lh 0 D
/LT 0 D
/CH 1 string D
/ST 16 string D
/CA 9 array D
/HC (\255) D
/HM f D
/PF f D
/EN f D
/TB f D
/UF f D
/sF f D
/AE f D
/AF f D
/BP t D
/CD f D
/PA t D
/GL f D
/T t D
/HF f D
/AH f D
/SA f D
/PB f D
/f1 f D
/mF f D
/OX 0 D
/OY 0 D
/FY 0 D
/EO 0 D
/FB 0 D
/PL 0 D
/Bw 0 D
/PD -1 D
/TP f D
/tp f D
/TH t D
/Ty 4 D
/Tn -1 D
/Fl t D
/LB t D
/PM 1 D
/Ms f D
/Ba f D
/Bb f D
/Hl 3 D
/hl 6 D
/Hv 6 D
/Hs f D
/HI 0 D
/hi 0 D
/PO t D
/TE f D
/LF t D
/BO 0 D
/Sm 1 D
/Bf 3 D
/A1 0 D
/A2 0 D
/Ds 1 D
/QL -1 D
/Cb Db D
/Ct Dt D
/Cl Dl D
[/Creator (html2ps version 1.0 beta3) /Author (Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman) /Keywords () /Subject ()
 /Title (CLHS: Chapter 5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="e_smp_tp.htm"> <link rel="UP" href="../Front/Contents.htm"> <link rel="NEXT" href="05_a.htm"> <title>CLHS: Section 5.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_.htm"> <link rel="UP" href="05_.htm"> <link rel="NEXT" href="05_aa.htm"> <title>CLHS: Section 5.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_a.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aaa.htm"> <title>CLHS: Section 5.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaaa.htm"> <title>CLHS: Section 5.1.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaa.htm"> <link rel="UP" href="05_aaa.htm"> <link rel="NEXT" href="05_aab.htm"> <title>CLHS: Section 5.1.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaaa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaba.htm"> <title>CLHS: Section 5.1.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aab.htm"> <link rel="UP" href="05_aab.htm"> <link rel="NEXT" href="05_ab.htm"> <title>CLHS: Section 5.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaba.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aba.htm"> <title>CLHS: Section 5.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_ab.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abb.htm"> <title>CLHS: Section 5.1.2.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aba.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abc.htm"> <title>CLHS: Section 5.1.2.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abb.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abd.htm"> <title>CLHS: Section 5.1.2.4</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abc.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abe.htm"> <title>CLHS: Section 5.1.2.5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abd.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abf.htm"> <title>CLHS: Section 5.1.2.6</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abe.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abg.htm"> <title>CLHS: Section 5.1.2.7</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abf.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abh.htm"> <title>CLHS: Section 5.1.2.8</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abg.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abi.htm"> <title>CLHS: Section 5.1.2.9</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abh.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_ac.htm"> <title>CLHS: Section 5.1.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abi.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_b.htm"> <title>CLHS: Section 5.2) /DOCINFO pdfmark
/ND 1 D
/HN [1 1 22{pop (??)}for] D
/h0 [()(Table of Contents)] D
/h1 [(0.1\240\240)(5. Data and Control Flow)] D
/h2 [(0.2\240\240)(5.1 Generalized Reference)] D
/h3 [(0.3\240\240)(5.1.1 Overview of Places and Generalized Reference)] D
/h4 [(0.4\240\240)(5.1.1.1 Evaluation of Subforms to Places)] D
/h5 [(0.5\240\240)(5.1.1.1.1 Examples of Evaluation of Subforms to Places)] D
/h6 [(0.6\240\240)(5.1.1.2 Setf Expansions)] D
/h7 [(0.7\240\240)(5.1.1.2.1 Examples of Setf Expansions)] D
/h8 [(0.8\240\240)(5.1.2 Kinds of Places)] D
/h9 [(0.9\240\240)(5.1.2.1 Variable Names as Places)] D
/h10 [(0.10\240\240)(5.1.2.2 Function Call Forms as Places)] D
/h11 [(0.11\240\240)(5.1.2.3 VALUES Forms as Places)] D
/h12 [(0.12\240\240)(5.1.2.4 THE Forms as Places)] D
/h13 [(0.13\240\240)(5.1.2.5 APPLY Forms as Places)] D
/h14 [(0.14\240\240)(5.1.2.6 Setf Expansions and Places)] D
/h15 [(0.15\240\240)(5.1.2.7 Macro Forms as Places)] D
/h16 [(0.16\240\240)(5.1.2.8 Symbol Macros as Places)] D
/h17 [(0.17\240\240)(5.1.2.9 Other Compound Forms as Places)] D
/h18 [(0.18\240\240)(5.1.3 Treatment of Other Macros Based on SETF)] D
/h19 [(0.19\240\240)(5.2 Transfer of Control to an Exit Point)] D
/Hr [-3 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21]D
/HV [1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2]D
/Cn [19 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]D
Hr length 0 gt{[/PageMode /UseOutlines /DOCVIEW pdfmark}if
/Hn 1 D
0 1 Hr length 1 sub{
 /Bn E D [Cn Bn get dup 0 gt{/Count E HV Bn get Bl ge{neg}if}{pop}ie
 /Dest Hr Bn get dup abs ST cvs cvn E 0 ge{(h)Hn ST cvs join cvx exec
 dup 1 get E Nf{0 get E join}{pop}ie /Hn Hn 1 add D}{()}ie
 /Title E dup length 255 gt{0 255 getinterval}if /OUT pdfmark}for
ZF /FN Fp D Ps 0 FS /WC Wf{( )}{<A1A1>}ie SW pop D
ET RC ZF
/Df f D
/Ba f D /BO 0 D Bs
/UR (05.html) D
/Ti (CLHS: Chapter 5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="e_smp_tp.htm"> <link rel="UP" href="../Front/Contents.htm"> <link rel="NEXT" href="05_a.htm"> <title>CLHS: Section 5.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_.htm"> <link rel="UP" href="05_.htm"> <link rel="NEXT" href="05_aa.htm"> <title>CLHS: Section 5.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_a.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aaa.htm"> <title>CLHS: Section 5.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaaa.htm"> <title>CLHS: Section 5.1.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaa.htm"> <link rel="UP" href="05_aaa.htm"> <link rel="NEXT" href="05_aab.htm"> <title>CLHS: Section 5.1.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaaa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaba.htm"> <title>CLHS: Section 5.1.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aab.htm"> <link rel="UP" href="05_aab.htm"> <link rel="NEXT" href="05_ab.htm"> <title>CLHS: Section 5.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaba.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aba.htm"> <title>CLHS: Section 5.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_ab.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abb.htm"> <title>CLHS: Section 5.1.2.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aba.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abc.htm"> <title>CLHS: Section 5.1.2.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abb.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abd.htm"> <title>CLHS: Section 5.1.2.4</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abc.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abe.htm"> <title>CLHS: Section 5.1.2.5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abd.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abf.htm"> <title>CLHS: Section 5.1.2.6</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abe.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abg.htm"> <title>CLHS: Section 5.1.2.7</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abf.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abh.htm"> <title>CLHS: Section 5.1.2.8</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abg.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abi.htm"> <title>CLHS: Section 5.1.2.9</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abh.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_ac.htm"> <title>CLHS: Section 5.1.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abi.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_b.htm"> <title>CLHS: Section 5.2) D
/Au (Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman) D
/Df f D
/ME [(Kent M. Pitman)] D

/Cb Db D /Ct [16#00 16#00 16#00] D /Cl [16#00 16#00 16#00] D /CL -1 D Ct Sc
Pt

/Ba f D /BO 0 D Bs
/UR (05.html) D
/Ti (CLHS: Chapter 5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="e_smp_tp.htm"> <link rel="UP" href="../Front/Contents.htm"> <link rel="NEXT" href="05_a.htm"> <title>CLHS: Section 5.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_.htm"> <link rel="UP" href="05_.htm"> <link rel="NEXT" href="05_aa.htm"> <title>CLHS: Section 5.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_a.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aaa.htm"> <title>CLHS: Section 5.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaaa.htm"> <title>CLHS: Section 5.1.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaa.htm"> <link rel="UP" href="05_aaa.htm"> <link rel="NEXT" href="05_aab.htm"> <title>CLHS: Section 5.1.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaaa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaba.htm"> <title>CLHS: Section 5.1.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aab.htm"> <link rel="UP" href="05_aab.htm"> <link rel="NEXT" href="05_ab.htm"> <title>CLHS: Section 5.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaba.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aba.htm"> <title>CLHS: Section 5.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_ab.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abb.htm"> <title>CLHS: Section 5.1.2.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aba.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abc.htm"> <title>CLHS: Section 5.1.2.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abb.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abd.htm"> <title>CLHS: Section 5.1.2.4</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abc.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abe.htm"> <title>CLHS: Section 5.1.2.5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abd.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abf.htm"> <title>CLHS: Section 5.1.2.6</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abe.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abg.htm"> <title>CLHS: Section 5.1.2.7</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abf.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abh.htm"> <title>CLHS: Section 5.1.2.8</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abg.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abi.htm"> <title>CLHS: Section 5.1.2.9</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abh.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_ac.htm"> <title>CLHS: Section 5.1.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abi.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_b.htm"> <title>CLHS: Section 5.2) D
/Au (Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman, Kent M. Pitman) D
/Df f D
/ME [(Kent M. Pitman)] D

NP RC ZF
()1 Sl()WB 0 Sn(
)0 P()WB 1 Sn()WB 1 Sn()EA()WB 2 Sn()WB 2 Sn()EA()EP(
)0 2 0 H(5.)WB 3 Sn( Data and Control Flow)EH(

)0 2 1 H(5.1)WB 4 Sn( Generalized Reference)EH(

)0 2 2 H(5.1.1)WB 5 Sn( Overview of Places and Generalized Reference)EH(
)0 P(A )0 2 A()I(generalized
reference)ES()EA( is the use of a )0 2 A()I(form)ES()EA(, sometimes called a )0 2 A()I(place)ES()EA(, as if it
were a )0 2 A()I(variable)ES()EA( that could be read and
written. The )0 2 A()I(value)ES()EA( of a )0 2 A()I(place)ES()EA( is the )0 2 A()I(object)ES()EA( to which
the )0 2 A()I(place)ES()EA(
)0 2 A()I(form)ES()EA(
evaluates. The )0 2 A()I(value)ES()EA( of a )0 2 A()I(place)ES()EA( can be changed by using
)0 2 A()BD(setf)ES()EA(. The
concept of binding a )0 2 A()I(place)ES()EA( is not defined in Common
Lisp, but an )0 2 A()I(implementation)ES()EA( is
permitted to extend the language by defining this concept.)EP(
)0 P(The next figure contains examples of the use of )0 2 A()BD(setf)ES()EA(. Note that the
values returned by evaluating the )0 2 A()I(forms)ES()EA( in column two are not
necessarily the same as those obtained by evaluating the )0 2 A()I(forms)ES()EA( in column
three. In general, the exact )0 2 A()I(macro expansion)ES()EA( of a
)0 2 A()BD(setf)ES()EA( )0 2 A()I(form)ES()EA( is not
guaranteed and can even be )0 2 A()I(implementation-dependent)ES()EA(;
all that is guaranteed is that the expansion is an update form that
works for that particular )0 2 A()I(implementation)ES()EA(, that the
left-to-right evaluation of )0 2 A()I(subforms)ES()EA( is preserved, and that
the ultimate result of evaluating )0 2 A()BD(setf)ES()EA( is the value or values being
stored.)EP(
) 4 65 PR(Access function   Update Function   Update using )0 2 A(setf)EA(              
x                 \201setq x datum\202    \201setf x datum\202                 
\201car x\202           \201rplaca x datum\202  \201setf \201car x\202 datum\202           
\201symbol-value x\202  \201set x datum\202     \201setf \201symbol-value x\202 datum\202)RP(
)0 P()BD(Figure 5-1. Examples of setf)ES()EP(
)0 P(The next figure shows )0 2 A()I(operators)ES()EA( relating to )0 2 A()I(places)ES()EA( and
)0 2 A()I(generalized
reference)ES()EA(.)EP(
) 6 49 PR()0 2 A(assert)EA(                )0 2 A(defsetf)EA(             )0 2 A(push)EA(     
)0 2 A(ccase)EA(                 )0 2 A(get-setf-expansion)EA(  )0 2 A(remf)EA(     
)0 2 A(ctypecase)EA(             )0 2 A(getf)EA(                )0 2 A(rotatef)EA(  
)0 2 A(decf)EA(                  )0 2 A(incf)EA(                )0 2 A(setf)EA(     
)0 2 A(define-modify-macro)EA(   )0 2 A(pop)EA(                 )0 2 A(shiftf)EA(   
)0 2 A(define-setf-expander)EA(  )0 2 A(psetf)EA()RP(
)0 P()BD(Figure 5-2. Operators relating to places and generalized
reference.)ES()EP(
)0 P(Some of the )0 2 A()I(operators)ES()EA( above manipulate
)0 2 A()I(places)ES()EA( and
some manipulate )0 2 A()I(setf expanders)ES()EA(. A )0 2 A()I(setf
expansion)ES()EA( can be derived from any )0 2 A()I(place)ES()EA(. New )0 2 A()I(setf expanders)ES()EA( can be
defined by using )0 2 A()BD(defsetf)ES()EA( and )0 2 A()BD(define-setf-expander)ES()EA(.)EP(

)0 2 3 H(5.1.1.1)WB 6 Sn( Evaluation of Subforms to Places)EH(
)0 P(The following rules apply to the )0 2 A()I(evaluation)ES()EA( of )0 2 A()I(subforms)ES()EA( in a
)0 2 A()I(place)ES()EA(:)EP(
)0 DL()0 DT(1. The evaluation ordering of )0 2 A()I(subforms)ES()EA( within a )0 2 A()I(place)ES()EA( is
determined by the order specified by the second value returned by
)0 2 A()BD(get-setf-expansion)ES()EA(.
For all )0 2 A()I(places)ES()EA( defined by this
specification \201e.g., )0 2 A()BD(getf)ES()EA(, )0 2 A()BD(ldb)ES()EA(, ...\202, this order of evaluation is
left-to-right. When a )0 2 A()I(place)ES()EA( is derived from a macro
expansion, this rule is applied after the macro is expanded to find
the appropriate )0 2 A()I(place)ES()EA(.)BR(
)DD()0 2 A()I(Places)ES()EA(
defined by using )0 2 A()BD(defmacro)ES()EA( or )0 2 A()BD(define-setf-expander)ES()EA(
use the evaluation order defined by those definitions. For example,
consider the following:
) 1 43 PR( \201defmacro wrong-order \201x y\202 `\201getf ,y ,x\202\202)RP(
)0 P(This following )0 2 A()I(form)ES()EA( evaluates )TT(place2)ES( first
and then )TT(place1)ES( because that is the order they are
evaluated in the macro expansion:)EP(
) 1 41 PR( \201push value \201wrong-order place1 place2\202\202)RP(
)0 DT(2. For the )0 2 A()I(macros)ES()EA( that manipulate )0 2 A()I(places)ES()EA( \201)0 2 A()BD(push)ES()EA(, )0 2 A()BD(pushnew)ES()EA(,
)0 2 A()BD(remf)ES()EA(, )0 2 A()BD(incf)ES()EA(, )0 2 A()BD(decf)ES()EA(, )0 2 A()BD(shiftf)ES()EA(, )0 2 A()BD(rotatef)ES()EA(,
)0 2 A()BD(psetf)ES()EA(,
)0 2 A()BD(setf)ES()EA(,
)0 2 A()BD(pop)ES()EA(, and those
defined by )0 2 A()BD(define-modify-macro)ES()EA(\202
the )0 2 A()I(subforms)ES()EA( of the macro call are
evaluated exactly once in left-to-right order, with the )0 2 A()I(subforms)ES()EA( of the
)0 2 A()I(places)ES()EA(
evaluated in the order specified in \2011\202.)BR(
)DD()0 2 A()BD(push)ES()EA(,
)0 2 A()BD(pushnew)ES()EA(,
)0 2 A()BD(remf)ES()EA(, )0 2 A()BD(incf)ES()EA(, )0 2 A()BD(decf)ES()EA(, )0 2 A()BD(shiftf)ES()EA(, )0 2 A()BD(rotatef)ES()EA(,
)0 2 A()BD(psetf)ES()EA(,
)0 2 A()BD(pop)ES()EA( evaluate
all )0 2 A()I(subforms)ES()EA( before modifying any of
the )0 2 A()I(place)ES()EA(
locations. )0 2 A()BD(setf)ES()EA( \201in the case when )0 2 A()BD(setf)ES()EA( has more than
two arguments\202 performs its operation on each pair in sequence. For
example, in
) 1 39 PR( \201setf place1 value1 place2 value2 ...\202)RP(
the )0 2 A()I(subforms)ES()EA( of )TT(place1)ES( and
)TT(value1)ES( are evaluated, the location specified by
)TT(place1)ES( is modified to contain the value returned by
)TT(value1)ES(, and then the rest of the )0 2 A()BD(setf)ES()EA( form is processed in a like
manner.
)0 DT(3. For )0 2 A()BD(check-type)ES()EA(, )0 2 A()BD(ctypecase)ES()EA(,
and )0 2 A()BD(ccase)ES()EA(,
)0 2 A()I(subforms)ES()EA(
of the )0 2 A()I(place)ES()EA( are evaluated once as in \2011\202,
but might be evaluated again if the type check fails in the case of
)0 2 A()BD(check-type)ES()EA( or none of the
cases hold in )0 2 A()BD(ctypecase)ES()EA( and )0 2 A()BD(ccase)ES()EA(.)BR(
)0 DT(4. For )0 2 A()BD(assert)ES()EA(, the order of evaluation of
the generalized references is not specified.)BR()LD(
Rules 2, 3 and 4 cover all )0 2 A()I(standardized)ES()EA( )0 2 A()I(macros)ES()EA( that
manipulate )0 2 A()I(places)ES()EA(. 

)0 2 4 H(5.1.1.1.1)WB 7 Sn( Examples of Evaluation of Subforms to Places)EH(
) 11 41 PR( \201let \201\201ref2 \201list '\201\202\202\202\202
   \201push \201progn \201princ "1"\202 'ref-1\202
         \201car \201progn \201princ "2"\202 ref2\202\202\202\202 
>>  12
=>  \201REF1\202

 \201let \201x\202
    \201push \201setq x \201list 'a\202\202
          \201car \201setq x \201list 'b\202\202\202\202
     x\202
=>  \201\201\201A\202 . B\202\202)RP(
)0 P()0 2 A()BD(push)ES()EA( first
evaluates )TT(\201setq x \201list 'a\202\202 => \201a\202)ES(, then evaluates
)TT(\201setq x \201list 'b\202\202 => \201b\202)ES(, then modifies the )0 2 A()I(car)ES()EA( of this latest
value to be )TT(\201\201a\202 . b\202)ES(.)EP(

)0 2 5 H(5.1.1.2)WB 8 Sn( Setf Expansions)EH(
)0 P(Sometimes it is possible to avoid evaluating )0 2 A()I(subforms)ES()EA( of a )0 2 A()I(place)ES()EA( multiple
times or in the wrong order. A )0 2 A()I(setf expansion)ES()EA( for a given
access form can be expressed as an ordered collection of five
)0 2 A()I(objects)ES()EA(:)EP(
)0 DL()0 DT()BD(List of temporary variables)ES()BR(
)DD(a list of symbols naming temporary variables to be bound
sequentially, as if by )0 2 A()BD(let*)ES()EA(, to )0 2 A()I(values)ES()EA( resulting from value
forms.
)0 DT()BD(List of value forms)ES()BR(
)DD(a list of forms \201typically, )0 2 A()I(subforms)ES()EA( of the )0 2 A()I(place)ES()EA(\202 which when
evaluated yield the values to which the corresponding temporary
variables should be bound.
)0 DT()BD(List of store variables)ES()BR(
)DD(a list of symbols naming temporary store variables which are to
hold the new values that will be assigned to the )0 2 A()I(place)ES()EA(.
)0 DT()BD(Storing form)ES()BR(
)DD(a form which can reference both the temporary and the store
variables, and which changes the )0 2 A()I(value)ES()EA( of the )0 2 A()I(place)ES()EA( and guarantees to return
as its values the values of the store variables, which are the
correct values for )0 2 A()BD(setf)ES()EA( to return.
)0 DT()BD(Accessing form)ES()BR(
)DD(a )0 2 A()I(form)ES()EA(
which can reference the temporary variables, and which returns the
)0 2 A()I(value)ES()EA( of
the )0 2 A()I(place)ES()EA(.)LD(
)0 P(The value returned by the accessing form is affected by
execution of the storing form, but either of these forms might be
evaluated any number of times.)EP(
)0 P(It is possible to do more than one )0 2 A()BD(setf)ES()EA( in parallel via )0 2 A()BD(psetf)ES()EA(, )0 2 A()BD(shiftf)ES()EA(, and
)0 2 A()BD(rotatef)ES()EA(.
Because of this, the )0 2 A()I(setf expander)ES()EA( must produce
new temporary and store variable names every time. For examples of
how to do this, see )0 2 A()BD(gensym)ES()EA(.)EP(
)0 P(For each )0 2 A()I(standardized)ES()EA( accessor
function )I(F)ES(, unless it is explicitly documented otherwise, it
is )0 2 A()I(implementation-dependent)ES()EA(
whether the ability to use an )I(F)ES( )0 2 A()I(form)ES()EA( as a )0 2 A()BD(setf)ES()EA( )0 2 A()I(place)ES()EA( is implemented by a )0 2 A()I(setf
expander)ES()EA( or a )0 2 A()I(setf function)ES()EA(. Also, it
follows from this that it is )0 2 A()I(implementation-dependent)ES()EA(
whether the name )TT(\201setf)ES( )I(F)ES()TT(\202)ES( is )0 2 A()I(fbound)ES()EA(.)EP(

)0 2 6 H(5.1.1.2.1)WB 9 Sn( Examples of Setf Expansions)EH(
)0 P(Examples of the contents of the constituents of )0 2 A()I(setf
expansions)ES()EA( follow.)EP(
)0 P(For a variable )I(x)ES(:)EP(
) 5 44 PR(\201\202              ;list of temporary variables  
\201\202              ;list of value forms          
\201g0001\202         ;list of store variables      
\201setq x g0001\202  ;storing form                 
x               ;accessing form)RP(
)0 P()BD(Figure 5-3. Sample Setf Expansion of a Variable)ES()EP(
)0 P(For )TT(\201car)ES( )I(exp)ES()TT(\202)ES(:)EP(
) 5 64 PR(\201g0002\202                             ;list of temporary variables  
\201exp\202                               ;list of value forms          
\201g0003\202                             ;list of store variables      
\201progn \201rplaca g0002 g0003\202 g0003\202  ;storing form                 
\201car g0002\202                         ;accessing form)RP(
)0 P()BD(Figure 5-4. Sample Setf Expansion of a CAR Form)ES()EP(
)0 P(For )TT(\201subseq)ES( )I(seq)ES( )I(s)ES( )I(e)ES()TT(\202)ES(:)EP(
) 6 61 PR(\201g0004 g0005 g0006\202         ;list of temporary variables  
\201seq s e\202                   ;list of value forms          
\201g0007\202                     ;list of store variables      
\201progn \201replace g0004 g0007 :start1 g0005 :end1 g0006\202 g0007\202                              
                            ;storing form                 
\201subseq g0004 g0005 g0006\202  ; accessing form)RP(
)0 P()BD(Figure 5-5. Sample Setf Expansion of a SUBSEQ Form)ES()EP(
)0 P(In some cases, if a )0 2 A()I(subform)ES()EA( of a )0 2 A()I(place)ES()EA( is itself a )0 2 A()I(place)ES()EA(, it is
necessary to expand the )0 2 A()I(subform)ES()EA( in order to compute some
of the values in the expansion of the outer )0 2 A()I(place)ES()EA(. For )TT(\201ldb)ES(
)I(bs)ES( )TT(\201car)ES( )I(exp)ES()TT(\202\202)ES(:)EP(
) 6 58 PR(\201g0001 g0002\202            ;list of temporary variables  
\201bs exp\202                 ;list of value forms          
\201g0003\202                  ;list of store variables      
\201progn \201rplaca g0002 \201dpb g0003 g0001 \201car g0002\202\202\202 g0003\202                              
                         ;storing form                 
\201ldb g0001 \201car g0002\202\202  ; accessing form)RP(
)0 P()BD(Figure 5-6. Sample Setf Expansion of a LDB Form)ES()EP(

)0 2 7 H(5.1.2)WB 10 Sn( Kinds of Places)EH(
)0 P(Several kinds of )0 2 A()I(places)ES()EA( are defined by Common Lisp;
this section enumerates them. This set can be extended by )0 2 A()I(implementations)ES()EA( and by
)0 2 A()I(programmer code)ES()EA(.)EP(

)0 2 8 H(5.1.2.1)WB 11 Sn( Variable Names as Places)EH(
)0 P(The name of a )0 2 A()I(lexical variable)ES()EA( or
)0 2 A()I(dynamic
variable)ES()EA( can be used as a )0 2 A()I(place)ES()EA(.)EP(

)0 2 9 H(5.1.2.2)WB 12 Sn( Function Call Forms as Places)EH(
)0 P(A )0 2 A()I(function form)ES()EA( can be used
as a )0 2 A()I(place)ES()EA(
if it falls into one of the following categories:)EP(
)0 DL()0 DT(* A function call form whose first element is the name of any
one of the functions in the next figure.)BR(
)DD() 22 62 PR()0 2 A(aref)EA(    )0 2 A(cdadr)EA(                    )0 2 A(get)EA(                            
)0 2 A(bit)EA(     )0 2 A(cdar)EA(                     )0 2 A(gethash)EA(                        
)0 2 A(caaaar)EA(  )0 2 A(cddaar)EA(                   )0 2 A(logical-pathname-translations)EA(  
)0 2 A(caaadr)EA(  )0 2 A(cddadr)EA(                   )0 2 A(macro-function)EA(                 
)0 2 A(caaar)EA(   )0 2 A(cddar)EA(                    )0 2 A(ninth)EA(                          
)0 2 A(caadar)EA(  )0 2 A(cdddar)EA(                   )0 2 A(nth)EA(                            
)0 2 A(caaddr)EA(  )0 2 A(cddddr)EA(                   )0 2 A(readtable-case)EA(                 
)0 2 A(caadr)EA(   )0 2 A(cdddr)EA(                    )0 2 A(rest)EA(                           
)0 2 A(caar)EA(    )0 2 A(cddr)EA(                     )0 2 A(row-major-aref)EA(                 
)0 2 A(cadaar)EA(  )0 2 A(cdr)EA(                      )0 2 A(sbit)EA(                           
)0 2 A(cadadr)EA(  )0 2 A(char)EA(                     )0 2 A(schar)EA(                          
)0 2 A(cadar)EA(   )0 2 A(class-name)EA(               )0 2 A(second)EA(                         
)0 2 A(caddar)EA(  )0 2 A(compiler-macro-function)EA(  )0 2 A(seventh)EA(                        
)0 2 A(cadddr)EA(  )0 2 A(documentation)EA(            )0 2 A(sixth)EA(                          
)0 2 A(caddr)EA(   )0 2 A(eighth)EA(                   )0 2 A(slot-value)EA(                     
)0 2 A(cadr)EA(    )0 2 A(elt)EA(                      )0 2 A(subseq)EA(                         
)0 2 A(car)EA(     )0 2 A(fdefinition)EA(              )0 2 A(svref)EA(                          
)0 2 A(cdaaar)EA(  )0 2 A(fifth)EA(                    )0 2 A(symbol-function)EA(                
)0 2 A(cdaadr)EA(  )0 2 A(fill-pointer)EA(             )0 2 A(symbol-plist)EA(                   
)0 2 A(cdaar)EA(   )0 2 A(find-class)EA(               )0 2 A(symbol-value)EA(                   
)0 2 A(cdadar)EA(  )0 2 A(first)EA(                    )0 2 A(tenth)EA(                          
)0 2 A(cdaddr)EA(  )0 2 A(fourth)EA(                   )0 2 A(third)EA()RP(
)0 P()BD(Figure 5-7. Functions that setf can be used with---1)ES()EP(
)0 P(In the case of )0 2 A()BD(subseq)ES()EA(, the replacement value must
be a )0 2 A()I(sequence)ES()EA( whose elements might be
contained by the sequence argument to )0 2 A()BD(subseq)ES()EA(, but does not have to be a
)0 2 A()I(sequence)ES()EA( of the same )0 2 A()I(type)ES()EA( as the
)0 2 A()I(sequence)ES()EA( of which the
subsequence is specified. If the length of the replacement value
does not equal the length of the subsequence to be replaced, then
the shorter length determines the number of elements to be stored,
as for )0 2 A()BD(replace)ES()EA(.)EP(
)0 DT(* A function call form whose first element is the name of a
selector function constructed by )0 2 A()BD(defstruct)ES()EA(. The function name
must refer to the global function definition, rather than a locally
defined )0 2 A()I(function)ES()EA(.)BR(
)0 DT(* A function call form whose first element is the name of any
one of the functions in the next figure, provided that the supplied
argument to that function is in turn a )0 2 A()I(place)ES()EA( form; in this case the new
)0 2 A()I(place)ES()EA( has
stored back into it the result of applying the supplied "update"
function.)BR(
)DD() 4 65 PR(Function name  Argument that is a place  Update function used      
)0 2 A(ldb)EA(            second                    )0 2 A(dpb)EA(                       
)0 2 A(mask-field)EA(     second                    )0 2 A(deposit-field)EA(             
)0 2 A(getf)EA(           first                     )0 2 A(implementation-dependent)EA()RP(
)0 P()BD(Figure 5-8. Functions that setf can be used with---2)ES(
During the )0 2 A()BD(setf)ES()EA( expansion of these )0 2 A()I(forms)ES()EA(, it is
necessary to call )0 2 A()BD(get-setf-expansion)ES()EA( in
order to figure out how the inner, nested generalized variable must
be treated.)EP(
)0 P(The information from )0 2 A()BD(get-setf-expansion)ES()EA( is
used as follows.)EP(
)0 DL()0 DT()0 2 A()BD(ldb)ES()EA()BR(
)DD(In a form such as:
)0 P()TT(\201setf \201ldb)ES( )I(byte-spec)ES( )I(place-form)ES()TT(\202)ES(
)I(value-form)ES()TT(\202)ES()EP(
)0 P(the place referred to by the )I(place-form)ES( must always be
both )0 2 A()I(read)ES()EA(
and )I(written)ES(; note that the update is to the generalized
variable specified by )I(place-form)ES(, not to any object of
)0 2 A()I(type)ES()EA(
)0 2 A()BD(integer)ES()EA(.)EP(
)0 P(Thus this )0 2 A()BD(setf)ES()EA( should generate code to do the
following:)EP(
)0 DL()0 DT(1. Evaluate )I(byte-spec)ES( \201and bind it into a temporary
variable\202.
)0 DT(2. Bind the temporary variables for )I(place-form)ES(.
)0 DT(3. Evaluate )I(value-form)ES( \201and bind its value or values
into the store variable\202.
)0 DT(4. Do the )0 2 A()I(read)ES()EA( from )I(place-form)ES(.
)0 DT(5. Do the )0 2 A()I(write)ES()EA( into )I(place-form)ES( with
the given bits of the )0 2 A()I(integer)ES()EA( fetched in step 4
replaced with the value from step 3.)BR()LD(
If the evaluation of )I(value-form)ES( in step 3 alters what is
found in )I(place-form)ES(, such as setting different bits of
)0 2 A()I(integer)ES()EA(,
then the change of the bits denoted by )I(byte-spec)ES( is to that
altered )0 2 A()I(integer)ES()EA(, because step 4 is done
after the )I(value-form)ES( evaluation. Nevertheless, the
evaluations required for )0 2 A()I(binding)ES()EA( the temporary variables
are done in steps 1 and 2, and thus the expected left-to-right
evaluation order is seen. For example:
) 8 63 PR( \201setq integer #x69\202 =>  #x69
 \201rotatef \201ldb \201byte 4 4\202 integer\202 
          \201ldb \201byte 4 0\202 integer\202\202
 integer =>  #x96
;;; This example is trying to swap two independent bit fields 
;;; in an integer.  Note that the generalized variable of 
;;; interest here is just the \201possibly local\202 program variable
;;; integer.)RP(
)0 DT()0 2 A()BD(mask-field)ES()EA()BR(
)DD(This case is the same as )0 2 A()BD(ldb)ES()EA( in all essential aspects.
)0 DT()0 2 A()BD(getf)ES()EA()BR(
)DD(In a form such as:
)0 P()TT(\201setf \201getf)ES( )I(place-form)ES( )I(ind-form)ES()TT(\202)ES(
)I(value-form)ES()TT(\202)ES()EP(
)0 P(the place referred to by )I(place-form)ES( must always be both
)0 2 A()I(read)ES()EA( and
)I(written)ES(; note that the update is to the generalized variable
specified by )I(place-form)ES(, not necessarily to the particular
)0 2 A()I(list)ES()EA( that
is the property list in question.)EP(
)0 P(Thus this )0 2 A()BD(setf)ES()EA( should generate code to do the
following:)EP(
)0 DL()0 DT(1. Bind the temporary variables for )I(place-form)ES(.
)0 DT(2. Evaluate )I(ind-form)ES( \201and bind it into a temporary
variable\202.
)0 DT(3. Evaluate )I(value-form)ES( \201and bind its value or values
into the store variable\202.
)0 DT(4. Do the )0 2 A()I(read)ES()EA( from )I(place-form)ES(.
)0 DT(5. Do the )0 2 A()I(write)ES()EA( into )I(place-form)ES( with a
possibly-new property list obtained by combining the values from
steps 2, 3, and 4. \201Note that the phrase "possibly-new property
list" can mean that the former property list is somehow
destructively re-used, or it can mean partial or full copying of
it. Since either copying or destructive re-use can occur, the
treatment of the resultant value for the possibly-new property list
must proceed as if it were a different copy needing to be stored
back into the generalized variable.\202)BR()LD(
If the evaluation of )I(value-form)ES( in step 3 alters what is
found in )I(place-form)ES(, such as setting a different named
property in the list, then the change of the property denoted by
)I(ind-form)ES( is to that altered list, because step 4 is done
after the )I(value-form)ES( evaluation. Nevertheless, the
evaluations required for )0 2 A()I(binding)ES()EA( the temporary variables
are done in steps 1 and 2, and thus the expected left-to-right
evaluation order is seen.
)0 P(For example:)EP(
) 10 67 PR( \201setq s \201setq r \201list \201list 'a 1 'b 2 'c 3\202\202\202\202 =>  \201\201a 1 b 2 c 3\202\202
 \201setf \201getf \201car r\202 'b\202 
       \201progn \201setq r nil\202 6\202\202 =>  6
 r =>  NIL
 s =>  \201\201A 1 B 6 C 3\202\202
;;; Note that the \201setq r nil\202 does not affect the actions of 
;;; the SETF because the value of R had already been saved in 
;;; a temporary variable as part of the step 1. Only the CAR
;;; of this value will be retrieved, and subsequently modified 
;;; after the value computation.)RP()LD()LD(

)0 2 10 H(5.1.2.3)WB 13 Sn( VALUES Forms as Places)EH(
)0 P(A )0 2 A()BD(values)ES()EA( )0 2 A()I(form)ES()EA( can be used as a )0 2 A()I(place)ES()EA(, provided
that each of its )0 2 A()I(subforms)ES()EA( is also a )0 2 A()I(place)ES()EA( form.)EP(
)0 P(A form such as)EP(
)0 P()TT(\201setf \201values)ES( )I(place-1)ES(
)TT(...)ES()I(place-n)ES()TT(\202)ES(
)I(values-form)ES()TT(\202)ES()EP(
)0 P(does the following:)EP(
)0 DL()0 DT(1. The )0 2 A()I(subforms)ES()EA( of each nested
)I(place)ES( are evaluated in left-to-right order.
)0 DT(2. The )I(values-form)ES( is evaluated, and the first store
variable from each )I(place)ES( is bound to its return values as if
by )0 2 A()BD(multiple-value-bind)ES()EA(.
)0 DT(3. If the )0 2 A()I(setf expansion)ES()EA( for any
)I(place)ES( involves more than one store variable, then the
additional store variables are bound to )0 2 A()BD(nil)ES()EA(.
)0 DT(4. The storing forms for each )I(place)ES( are evaluated in
left-to-right order.)BR()LD(
)0 P(The storing form in the )0 2 A()I(setf expansion)ES()EA( of )0 2 A()BD(values)ES()EA( returns
as )0 2 A()I(multiple values)ES()EA([2] the
values of the store variables in step 2. That is, the number of
values returned is the same as the number of )0 2 A()I(place)ES()EA( forms. This may be more
or fewer values than are produced by the )I(values-form)ES(.)EP(

)0 2 11 H(5.1.2.4)WB 14 Sn( THE Forms as Places)EH(
)0 P(A )0 2 A()BD(the)ES()EA(
)0 2 A()I(form)ES()EA( can be
used as a )0 2 A()I(place)ES()EA(, in which case the
declaration is transferred to the )I(newvalue)ES( form, and the
resulting )0 2 A()BD(setf)ES()EA( is analyzed. For example,)EP(
) 1 38 PR( \201setf \201the integer \201cadr x\202\202 \201+ y 3\202\202)RP(
is processed as if it were
) 1 38 PR( \201setf \201cadr x\202 \201the integer \201+ y 3\202\202\202)RP(

)0 2 12 H(5.1.2.5)WB 15 Sn( APPLY Forms as Places)EH(
)0 P(The following situations involving )0 2 A()BD(setf)ES()EA( of )0 2 A()BD(apply)ES()EA( must be supported:)EP(
)0 DL()0 DT(* )TT(\201setf \201apply #'aref)ES( )I(array)ES(
)I(subscript)ES()BD(*)ES( )I(more-subscripts)ES()TT(\202)ES(
)I(new-element)ES()TT(\202)ES(
)0 DT(* )TT(\201setf \201apply #'bit)ES( )I(array)ES(
)I(subscript)ES()BD(*)ES( )I(more-subscripts)ES()TT(\202)ES(
)I(new-element)ES()TT(\202)ES(
)0 DT(* )TT(\201setf \201apply #'sbit)ES( )I(array)ES(
)I(subscript)ES()BD(*)ES( )I(more-subscripts)ES()TT(\202)ES(
)I(new-element)ES()TT(\202)ES()BR()LD(
)0 P(In all three cases, the )0 2 A()I(element)ES()EA( of )I(array)ES(
designated by the concatenation of )I(subscripts)ES( and
)I(more-subscripts)ES( \201i.e., the same )0 2 A()I(element)ES()EA( which would be )0 2 A()I(read)ES()EA( by the call
to )0 2 A()I(apply)ES()EA(
if it were not part of a )0 2 A()BD(setf)ES()EA( )0 2 A()I(form)ES()EA(\202 is changed to have the )0 2 A()I(value)ES()EA( given by
)I(new-element)ES(. For these usages, the function name \201)0 2 A()BD(aref)ES()EA(, )0 2 A()BD(bit)ES()EA(, or )0 2 A()BD(sbit)ES()EA(\202 must refer to
the global function definition, rather than a locally defined
)0 2 A()I(function)ES()EA(.)EP(
)0 P(No other )0 2 A()I(standardized)ES()EA( )0 2 A()I(function)ES()EA( is
required to be supported, but an )0 2 A()I(implementation)ES()EA( may define
such support. An )0 2 A()I(implementation)ES()EA( may also
define support for )0 2 A()I(implementation-defined)ES()EA(
)0 2 A()I(operators)ES()EA(.)EP(
)0 P(If a user-defined )0 2 A()I(function)ES()EA( is used in this
context, the following equivalence is true, except that care is
taken to preserve proper left-to-right evaluation of argument
)0 2 A()I(subforms)ES()EA(:)EP(
) 2 35 PR( \201setf \201apply #'name arg*\202 val\202
 ==  \201apply #'\201setf name\202 val arg*\202)RP(

)0 2 13 H(5.1.2.6)WB 16 Sn( Setf Expansions and Places)EH(
)0 P(Any )0 2 A()I(compound form)ES()EA( for which the
)0 2 A()I(operator)ES()EA( has a )0 2 A()I(setf
expander)ES()EA( defined can be used as a )0 2 A()I(place)ES()EA(. The )0 2 A()I(operator)ES()EA( must refer to the
global function definition, rather than a locally defined )0 2 A()I(function)ES()EA( or
)0 2 A()I(macro)ES()EA(.)EP(

)0 2 14 H(5.1.2.7)WB 17 Sn( Macro Forms as Places)EH(
)0 P(A )0 2 A()I(macro
form)ES()EA( can be used as a )0 2 A()I(place)ES()EA(, in which case Common Lisp
expands the )0 2 A()I(macro form)ES()EA( as if by )0 2 A()BD(macroexpand-1)ES()EA( and then uses
the )0 2 A()I(macro expansion)ES()EA( in place
of the original )0 2 A()I(place)ES()EA(. Such )0 2 A()I(macro expansion)ES()EA( is
attempted only after exhausting all other possibilities other than
expanding into a call to a function named )TT(\201setf)ES(
)I(reader)ES()TT(\202)ES(.)EP(

)0 2 15 H(5.1.2.8)WB 18 Sn( Symbol Macros as Places)EH(
)0 P(A reference to a )0 2 A()I(symbol)ES()EA( that has been
)I(established)ES( as a )0 2 A()I(symbol macro)ES()EA( can be used as
a )0 2 A()I(place)ES()EA(.
In this case, )0 2 A()BD(setf)ES()EA( expands the reference and then
analyzes the resulting )0 2 A()I(form)ES()EA(.)EP(

)0 2 16 H(5.1.2.9)WB 19 Sn( Other Compound Forms as Places)EH(
)0 P(For any other )0 2 A()I(compound form)ES()EA( for which the
)0 2 A()I(operator)ES()EA( is a )0 2 A()I(symbol)ES()EA( )I(f)ES(,
the )0 2 A()BD(setf)ES()EA(
)0 2 A()I(form)ES()EA(
expands into a call to the )0 2 A()I(function)ES()EA( named )TT(\201setf)ES(
)I(f)ES()TT(\202)ES(. The first )0 2 A()I(argument)ES()EA( in the newly
constructed )0 2 A()I(function form)ES()EA( is
)I(newvalue)ES( and the remaining )0 2 A()I(arguments)ES()EA( are the remaining
)0 2 A()I(elements)ES()EA(
of )I(place)ES(. This expansion occurs regardless of whether
)I(f)ES( or )TT(\201setf)ES( )I(f)ES()TT(\202)ES( is defined as a
)0 2 A()I(function)ES()EA( locally, globally, or
not at all. For example,)EP(
)0 P()TT(\201setf \201)ES()I(f)ES( )I(arg1)ES( )I(arg2)ES( )TT(...\202)ES(
)I(new-value)ES()TT(\202)ES()EP(
)0 P(expands into a form with the same effect and value as)EP(
) 5 66 PR( \201let \201\201#:temp-1 arg1\202          ;force correct order of evaluation
       \201#:temp-2 arg2\202
       ...
       \201#:temp-0 new-value\202\202
   \201funcall \201function \201setf f\202\202 #:temp-0 #:temp-1 #:temp-2...\202\202)RP(
)0 P(A )0 2 A()I(function)ES()EA( named )TT(\201setf)ES(
)I(f)ES()TT(\202)ES( must return its first argument as its only value
in order to preserve the semantics of )0 2 A()BD(setf)ES()EA(.)EP(

)0 2 17 H(5.1.3)WB 20 Sn( Treatment of Other Macros Based on SETF)EH(
)0 P(For each of the "read-modify-write" )0 2 A()I(operators)ES()EA( in the next figure,
and for any additional )0 2 A()I(macros)ES()EA( defined by the )0 2 A()I(programmer)ES()EA(
using )0 2 A()BD(define-modify-macro)ES()EA(,
an exception is made to the normal rule of left-to-right evaluation
of arguments. Evaluation of )0 2 A()I(argument)ES()EA( )0 2 A()I(forms)ES()EA( occurs in left-to-right
order, with the exception that for the )I(place)ES( )0 2 A()I(argument)ES()EA(, the
actual )0 2 A()I(read)ES()EA(
of the "old value" from that )I(place)ES( happens after all of the
)0 2 A()I(argument)ES()EA( )0 2 A()I(form)ES()EA( )0 2 A()I(evaluations)ES()EA(, and just before a
"new value" is computed and )I(written)ES( back into the
)I(place)ES(.)EP(
)0 P(Specifically, each of these )0 2 A()I(operators)ES()EA( can be viewed as
involving a )0 2 A()I(form)ES()EA( with the following general
syntax:)EP(
) 1 49 PR( \201)0 2 A(operator)EA( preceding-form* place following-form*\202)RP(
)0 P(The evaluation of each such )0 2 A()I(form)ES()EA( proceeds like this:)EP(
)0 DL()0 DT(1. )0 2 A()I(Evaluate)ES()EA( each of the
)I(preceding-forms)ES(, in left-to-right order.
)0 DT(2. )0 2 A()I(Evaluate)ES()EA( the )0 2 A()I(subforms)ES()EA( of the
)I(place)ES(, in the order specified by the second value of the
)0 2 A()I(setf
expansion)ES()EA( for that )I(place)ES(.
)0 DT(3. )0 2 A()I(Evaluate)ES()EA( each of the
)I(following-forms)ES(, in left-to-right order.
)0 DT(4. )0 2 A()I(Read)ES()EA(
the old value from )I(place)ES(.
)0 DT(5. Compute the new value.
)0 DT(6. Store the new value into )I(place)ES(.)BR()LD(
) 2 19 PR()0 2 A(decf)EA(  )0 2 A(pop)EA(   )0 2 A(pushnew)EA(  
)0 2 A(incf)EA(  )0 2 A(push)EA(  )0 2 A(remf)EA()RP(
)0 P()BD(Figure 5-9. Read-Modify-Write Macros)ES()EP(

)0 2 18 H(5.2)WB 21 Sn( Transfer of Control to an Exit Point)EH(
)0 P(When a transfer of control is initiated by )0 2 A()BD(go)ES()EA(, )0 2 A()BD(return-from)ES()EA(, or )0 2 A()BD(throw)ES()EA( the
following events occur in order to accomplish the transfer of
control. Note that for )0 2 A()BD(go)ES()EA(, the )0 2 A()I(exit point)ES()EA( is the )0 2 A()I(form)ES()EA( within the
)0 2 A()BD(tagbody)ES()EA(
that is being executed at the time the )0 2 A()BD(go)ES()EA( is performed; for )0 2 A()BD(return-from)ES()EA(, the )0 2 A()I(exit point)ES()EA(
is the corresponding )0 2 A()BD(block)ES()EA( )0 2 A()I(form)ES()EA(; and for )0 2 A()BD(throw)ES()EA(, the )0 2 A()I(exit point)ES()EA( is the
corresponding )0 2 A()BD(catch)ES()EA( )0 2 A()I(form)ES()EA(.)EP(
)0 DL()0 DT(1. Intervening )0 2 A()I(exit points)ES()EA( are "abandoned"
\201i.e., their )0 2 A()I(extent)ES()EA( ends and it is no longer
valid to attempt to transfer control through them\202.)BR(
)0 DT(2. The cleanup clauses of any intervening )0 2 A()BD(unwind-protect)ES()EA(
clauses are evaluated.)BR(
)0 DT(3. Intervening dynamic )0 2 A()I(bindings)ES()EA( of )0 2 A()BD(special)ES()EA( variables, )0 2 A()I(catch tags)ES()EA(,
)0 2 A()I(condition handlers)ES()EA(, and
)0 2 A()I(restarts)ES()EA(
are undone.)BR(
)0 DT(4. The )0 2 A()I(extent)ES()EA( of the )0 2 A()I(exit point)ES()EA( being invoked
ends, and control is passed to the target.)BR()LD(
)0 P(The extent of an exit being "abandoned" because it is being
passed over ends as soon as the transfer of control is initiated.
That is, event 1 occurs at the beginning of the initiation of the
transfer of control. The consequences are undefined if an attempt
is made to transfer control to an )0 2 A()I(exit point)ES()EA( whose )0 2 A()I(dynamic
extent)ES()EA( has ended.)EP(
)0 P(Events 2 and 3 are actually performed interleaved, in the order
corresponding to the reverse order in which they were established.
The effect of this is that the cleanup clauses of an )0 2 A()BD(unwind-protect)ES()EA( see the
same dynamic )0 2 A()I(bindings)ES()EA( of variables and )0 2 A()I(catch tags)ES()EA( as
were visible when the )0 2 A()BD(unwind-protect)ES()EA( was
entered.)EP(
)0 P(Event 4 occurs at the end of the transfer of control.)EP(
)WB NL /BO 0 D TC /Ba f D Bs /AU f D /UR () D RC ZF
tH WB
ND 1 gt{Ts 3 mul Np 0()0 C()BD(CLHS: Chapter 5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="e_smp_tp.htm"> <link rel="UP" href="../Front/Contents.htm"> <link rel="NEXT" href="05_a.htm"> <title>CLHS: Section 5.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_.htm"> <link rel="UP" href="05_.htm"> <link rel="NEXT" href="05_aa.htm"> <title>CLHS: Section 5.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_a.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aaa.htm"> <title>CLHS: Section 5.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaaa.htm"> <title>CLHS: Section 5.1.1.1.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaa.htm"> <link rel="UP" href="05_aaa.htm"> <link rel="NEXT" href="05_aab.htm"> <title>CLHS: Section 5.1.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaaa.htm"> <link rel="UP" href="05_aa.htm"> <link rel="NEXT" href="05_aaba.htm"> <title>CLHS: Section 5.1.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aab.htm"> <link rel="UP" href="05_aab.htm"> <link rel="NEXT" href="05_ab.htm"> <title>CLHS: Section 5.1.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aaba.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_aba.htm"> <title>CLHS: Section 5.1.2.1</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_ab.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abb.htm"> <title>CLHS: Section 5.1.2.2</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_aba.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abc.htm"> <title>CLHS: Section 5.1.2.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abb.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abd.htm"> <title>CLHS: Section 5.1.2.4</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abc.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abe.htm"> <title>CLHS: Section 5.1.2.5</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abd.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abf.htm"> <title>CLHS: Section 5.1.2.6</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abe.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abg.htm"> <title>CLHS: Section 5.1.2.7</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abf.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abh.htm"> <title>CLHS: Section 5.1.2.8</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abg.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_abi.htm"> <title>CLHS: Section 5.1.2.9</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abh.htm"> <link rel="UP" href="05_ab.htm"> <link rel="NEXT" href="05_ac.htm"> <title>CLHS: Section 5.1.3</title> <link href="../Data/clhs.css" rel="stylesheet" type="text/css"> <meta http-equiv="Author" content="Kent M. Pitman"> <meta http-equiv="Organization" content="LispWorks Ltd."> <link rel="TOP" href="../Front/index.htm"> <link rel="COPYRIGHT" href="../Front/Help.htm#Legal"> <link rel="DISCLAIMER" href="../Front/Help.htm#Disclaimer"> <link rel="PREV" href="05_abi.htm"> <link rel="UP" href="05_a.htm"> <link rel="NEXT" href="05_b.htm"> <title>CLHS: Section 5.2)ES()0 1 TN()EA()BN}if
2 NH le{3(0.1\240\240)2 C(5. Data and Control Flow)3 1 TN()EA()BN}if
2 NH le{4(0.2\240\240)2 C(5.1 Generalized Reference)4 1 TN()EA()BN}if
2 NH le{5(0.3\240\240)2 C(5.1.1 Overview of Places and Generalized Reference)5 1 TN()EA()BN}if
2 NH le{6(0.4\240\240)2 C(5.1.1.1 Evaluation of Subforms to Places)6 1 TN()EA()BN}if
2 NH le{7(0.5\240\240)2 C(5.1.1.1.1 Examples of Evaluation of Subforms to Places)7 1 TN()EA()BN}if
2 NH le{8(0.6\240\240)2 C(5.1.1.2 Setf Expansions)8 1 TN()EA()BN}if
2 NH le{9(0.7\240\240)2 C(5.1.1.2.1 Examples of Setf Expansions)9 1 TN()EA()BN}if
2 NH le{10(0.8\240\240)2 C(5.1.2 Kinds of Places)10 1 TN()EA()BN}if
2 NH le{11(0.9\240\240)2 C(5.1.2.1 Variable Names as Places)11 1 TN()EA()BN}if
2 NH le{12(0.10\240\240)2 C(5.1.2.2 Function Call Forms as Places)12 1 TN()EA()BN}if
2 NH le{13(0.11\240\240)2 C(5.1.2.3 VALUES Forms as Places)13 1 TN()EA()BN}if
2 NH le{14(0.12\240\240)2 C(5.1.2.4 THE Forms as Places)14 1 TN()EA()BN}if
2 NH le{15(0.13\240\240)2 C(5.1.2.5 APPLY Forms as Places)15 1 TN()EA()BN}if
2 NH le{16(0.14\240\240)2 C(5.1.2.6 Setf Expansions and Places)16 1 TN()EA()BN}if
2 NH le{17(0.15\240\240)2 C(5.1.2.7 Macro Forms as Places)17 1 TN()EA()BN}if
2 NH le{18(0.16\240\240)2 C(5.1.2.8 Symbol Macros as Places)18 1 TN()EA()BN}if
2 NH le{19(0.17\240\240)2 C(5.1.2.9 Other Compound Forms as Places)19 1 TN()EA()BN}if
2 NH le{20(0.18\240\240)2 C(5.1.3 Treatment of Other Macros Based on SETF)20 1 TN()EA()BN}if
2 NH le{21(0.19\240\240)2 C(5.2 Transfer of Control to an Exit Point)21 1 TN()EA()BN}if

/TE t D NP TU PM 0 eq and{/Pn () D showpage}if end restore
